{"version":3,"names":["String","prototype","chop","this","slice","tr","_s1","_s2","expand","str","undefined","replace","ma","$1","$2","s","charCodeAt","e","x","i","c","fromCharCode","s1","s2","length","split","map","indexOf","join","$","fn","showDelay","args","Array","from","arguments","unshift","$$","DefaultShowSpeed","show","apply","hideDelay","hide","toggleDelay","toggle","findx","filter","add","find","rootfind","sel","parents","last","parentsOne","first","existsData","name","data","parseFormHash","cancel","_parseForm","parseFormFD","fdmode","FormData","$cancel","each","idx","dom","disabled","type","checked","tagName","append","val","files","anySerialize","serialize","anySerializeArray","serializeArray","onSequence","_event","_priority","_func","self","list","on","func","push","priority","sort","a","b","triggerWithOE","oe","jQuery","Event","originalEvent","arg","trigger","dndEmulation","opt","make_mouse_event","evt","touch","altKey","metaKey","ctrlKey","shiftKey","clientX","clientY","screenX","screenY","pageX","pageY","which","get_par_elements","ary","parentNode","prev","flag","timer","orig_touch","addEventListener","target","touches","setTimeout","TouchDnDTime","passive","clearTimeout","changedTouches","document","elementFromPoint","enter","cancelable","preventDefault","leave","pop","e_leave","e_out","e_enter","e_over","regist_dnd_emulation","event","special","mydbltap","setup","mouse","DoubleTapTime","PrefixStorage","constructor","path","ls","localStorage","prefix","set","key","get","getInt","parseInt","isNaN","defined","remove","removeItem","clear","pf","len","k","substr","adiaryDialog","adiaryDialogOpen","adiaryDialogClose","window","$dialog","addClass","attr","min_w","minWidth","min_h","minHeight","width","css","maxWidth","maxHeight","dialogClass","adiaryUIData","$title","$span","html","title","noExit","$close","tabindex","exit","click","$header","$restore","parent","display","buttons","$footer","$btnset","btns","$btns","$btn","text","autoOpen","modal","adiaryShowModal","focus","$win","hf","outerHeight","height","scrollLeft","outerWidth","y","scrollTop","left","top","adiaryDraggable","handle","open","beforeClose","call","adiaryCloseModal","close","detach","adiaryShowOverlay","$overlay","inert","children","showPopover","adiaryProgressbar","value","init","change","complete","$value","old","adiaryAccordion","$objs","$div","next","sx","sy","$obj","move","position","$tar","hasClass","$o","parentsUntil","p","offset","removeEventListener","adiaryUIFilterExists","callback","$ary","$body","SameSite","PopupDelayTime","PopupOffsetX","PopupOffsetY","$head","msg","_default","msgs","toUpperCase","set_msg","obj","dialog","Promise","resolve","reject","ok","btn","prop","cancelBtn","keyfunc","class","$bp","siblings","off","dialog_base","marg","Object","$secure","w","m1","show_dialog","show_error","confirm","form_dialog","ele","$form","isArray","$ta","rows","$item","before","iclass","after","send_ajax","success","error_dialog_callback","ajax_error","err","h","error","tag_esc","toString","errs","o","_order","keys","_debug","ajax","url","myself","method","param","processData","contentType","dataType","ret","popup","delay","$popup","popup_hide","popup_show","is","SP","tag_esc_br","location","href","file","$pars","js_combo_dummy","dummy","$opt","async","$select","_val","element","match","$o1","cnt","$x","$tbody","td_nth","reverse","isNum","lines","i2","$tr","$td","num","Number","empty","initialized","dom_init","console","warn","$R","count","submit","removeClass","gen","sb","submitter","URLSearchParams","start_func","comp_func","submit_func","checker","id","Storage","js_combo_dummy_val","set_value_on_select","counter","diff","prepend","tar","$target","storage","css_id","$css","$accordion","$sel","$multi","clone","removeAttr","insertAfter","$opts","__change","$add","$_obj","currentTarget","lclass","cdialog","val2opt","$label","$inp","inc","load_script","$s","createElement","appendChild","tag_esc_amp","tag_unesc","tag_unesc_amp","set_cookie","cookie","encodeURIComponent","get_cookie","v","decodeURIComponent","parse_json_html","json","JSON","parse","format_size","Math","round","toLocaleString","toPrecision","int","float","parseFloat","$vars","vars","$msgs","globalThis"],"sources":["00_start.js","10_global-ext.js","11_jquery-ext.js","20_PrefixStorage.js","21_adiary-ui.js","30_init.js","40_dialog.js","41_ajax.js","42_popup.js","50_dom.js","60_dom-special.js","70_subroutines.js","90_run_init.js","99_export_default.js"],"sourcesContent":["/*!\n * asys.js (C)nabe@abk\n * https://github.com/nabe-abk/asys.js\n *\n * This module need jQuery.\n */\n'use strict';\n","//##############################################################################\n//extend global\n//##############################################################################\n////////////////////////////////////////////////////////////////////////////////\n// String chop\n////////////////////////////////////////////////////////////////////////////////\nString.prototype.chop = function() {\n\treturn this.slice(0,-1);\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// String tr\n////////////////////////////////////////////////////////////////////////////////\nString.prototype.tr = function(_s1, _s2) {\n\tfunction expand(str) {\n\t\tif (str == undefined) return '';\n\t\treturn str.replace(/(.)\\-(.)/g, function(ma,$1,$2){\n\t\t\tconst s = $1.charCodeAt(0);\n\t\t\tconst e = $2.charCodeAt(0);\n\t\t\tlet x='';\n\t\t\tfor(let i=s,c=0; i<=e && c<5000; i++,c++) {\n\t\t\t\tx += String.fromCharCode(i);\n\t\t\t}\n\t\t\treturn x;\n\t\t});\n\t}\n\tconst s1 = expand(_s1);\n\tconst s2 = expand(_s2);\n\tif (s1.length != s2.length) {\n\t\tthrow('String.tr() not match pattern length');\n\t}\n\n\treturn this.split('').map(function(c) {\n\t\tconst i = s1.indexOf(c);\n\t\tif (i<0) return c;\n\t\treturn s2[i];\n\t}).join('');\n}\n\n","//##############################################################################\n//extend jQuery\n//##############################################################################\n////////////////////////////////////////////////////////////////////////////////\n// show, hide with delay\n////////////////////////////////////////////////////////////////////////////////\n$.fn.showDelay = function(){\n\tlet args = Array.from(arguments)\n\targs.unshift($$.DefaultShowSpeed);\n\treturn $.fn.show.apply(this, args);\n}\n$.fn.hideDelay = function(){\n\tlet args = Array.from(arguments);\n\targs.unshift($$.DefaultShowSpeed);\n\treturn $.fn.hide.apply(this, args);\n}\n$.fn.toggleDelay = function(){\n\tlet args = Array.from(arguments);\n\targs.unshift($$.DefaultShowSpeed);\n\treturn $.fn.toggle.apply(this, args);\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// find dom element including itself\n////////////////////////////////////////////////////////////////////////////////\n$.fn.findx = function() {\n\treturn $.fn.filter.apply(this, arguments).add( $.fn.find.apply(this, arguments) );\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// extra find function\n////////////////////////////////////////////////////////////////////////////////\n$.fn.rootfind = function(sel) {\n\treturn this.parents().last().find(sel);\n}\n$.fn.parentsOne = function(filter) {\n\treturn this.parents(filter).first();\n}\n$.fn.existsData = function(name) {\n\tconst v = this.data(name);\n\treturn v !== undefined;\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// parse form to hash\n////////////////////////////////////////////////////////////////////////////////\n$.fn.parseFormHash = function(cancel) {\n\treturn this._parseForm(false, cancel);\n}\n$.fn.parseFormFD = function(cancel) {\n\treturn this._parseForm(true,  cancel);\n}\n$.fn._parseForm = function(fdmode, cancel) {\n\tconst data = fdmode ? new FormData : {};\n\tconst $cancel = (cancel instanceof $) ? cancel\n\t\t: (cancel === undefined ? cancel : $(cancel));\n\n\tthis.find('input, select, textarea').each(function(idx, dom){\n\t\tif (dom.disabled) return;\n\t\tif (dom.type == 'checkbox' && !dom.checked) return;\n\t\tif ($cancel && $cancel.find(dom).length) return;\n\n\t\tconst name = dom.name;\n\n\t\t// file\n\t\tif (dom.tagName == 'INPUT' && dom.type == 'file') {\n\t\t\tif (!fdmode) return;\n\t\t\tconst files = dom.files;\n\t\t\tfor(let i=0; i<files.length; i++)\n\t\t\t\tdata.append(name, files[i]);\n\t\t\treturn;\n\t\t}\n\t\tif (name == undefined || name == '') return;\n\t\tif (fdmode)\n\t\t\tdata.append(name, $(dom).val());\n\t\telse\n\t\t\tdata[name] = $(dom).val();\n\t});\n\treturn data;\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// any serialize\n////////////////////////////////////////////////////////////////////////////////\n$.fn.anySerialize = function(){\n\treturn this.find('input, textarea, select').serialize();\n}\n$.fn.anySerializeArray = function(){\n\treturn this.find('input, textarea, select').serializeArray();\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// Function calls sequentially when an event occurs\n////////////////////////////////////////////////////////////////////////////////\n$.fn.onSequence = function(_event, _priority, _func) {\n\tconst name = '_on_' + _event.replace(/[^\\w]/g, '_');\n\n\tthis.each(function(idx, dom) {\n\t\tconst self = $(dom);\n\n\t\tif (!self.data(name)) {\n\t\t\tconst list = [];\n\t\t\tself.data(name, list);\n\n\t\t\tself.on(_event, function(){\n\t\t\t\tfor(var x in list) {\n\t\t\t\t\tvar r = list[x].func.apply(this, arguments);\n\t\t\t\t\tif (!r) return false;\t// false break\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t})\n\t\t}\n\t\tconst list = self.data(name);\n\t\tlist.push({\n\t\t\tpriority:\t_priority,\n\t\t\tfunc:\t\t_func\n\t\t});\n\t\tself.data(name, list.sort(function(a,b){\n\t\t\treturn a.priority - b.priority\n\t\t}));\n\t});\n\treturn this;\n}\n\n$.fn.triggerWithOE = function(name, oe) {\n\tconst e   = jQuery.Event(name, { originalEvent: oe });\n\tconst arg = Array.from(arguments);\n\targ.unshift(e);\n\t$.fn.trigger.apply(this, arg);\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// Drag and Drop emulation by touch event\n////////////////////////////////////////////////////////////////////////////////\n$.fn.dndEmulation = function(opt){\n\tif (!opt) opt={};\n\n\t// make mouse event object from touch event infomation\n\tfunction make_mouse_event(name, evt, touch) {\n\t\tconst e    = $.Event(name);\n\t\te.altKey   = evt.altKey;\n\t\te.metaKey  = evt.metaKey;\n\t\te.ctrlKey  = evt.ctrlKey;\n\t\te.shiftKey = evt.shiftKey;\n\t\te.clientX  = touch.clientX;\n\t\te.clientY  = touch.clientY;\n\t\te.screenX  = touch.screenX;\n\t\te.screenY  = touch.screenY;\n\t\te.pageX    = touch.pageX;\n\t\te.pageY    = touch.pageY;\n\t\te.which    = 1;\n\t\treturn e;\n\t}\n\n\t// get all parents element including yourself.\n\tfunction get_par_elements(dom) {\n\t\tvar ary  = [];\n\t\twhile(dom) {\n\t\t\tary.push( dom );\n\t\t\tif (dom == self) break;\n\t\t\tdom = dom.parentNode;\n\t\t}\n\t\treturn ary;\n\t}\n\n\tfunction regist_dnd_emulation(dom) {\n\t\tlet prev;\n\t\tlet flag;\n\t\tlet timer;\n\t\tlet orig_touch;\n\n\t\t// mousedown\n\t\tdom.addEventListener('touchstart', function(evt) {\n\t\t\tprev = evt.target;\n\t\t\torig_touch = evt.touches[0];\n\t\t\tconst e = make_mouse_event('mousedown', evt, evt.touches[0]);\n\t\t\t$( prev ).trigger(e);\n\n\t\t\t// Disable the process if it does not pass a certain amount of time.\n\t\t\tflag  = false;\n\t\t\ttimer = setTimeout(function(){\n\t\t\t\ttimer = false;\n\t\t\t\tflag  = true;\n\t\t\t}, $$.TouchDnDTime)\n\t\t}, { passive: true });\n\n\t\t// mouseup\n\t\tdom.addEventListener('touchend', function(evt){\n\t\t\tif (timer) clearTimeout(timer);\n\t\t\ttimer = false;\n\t\t\tconst e = make_mouse_event('mouseup', evt, evt.changedTouches[0]);\n\t\t\t$( evt.target ).trigger(e);\n\t\t});\n\n\t\t// drag\n\t\tdom.addEventListener('touchmove', function(evt) {\n\t\t\t// move wait\n\t\t\tif (!flag) {\n\t\t\t\tif (timer) clearTimeout(timer);\n\t\t\t\ttimer = false;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst touch = evt.changedTouches[0];\n\t\t\tconst dom   = document.elementFromPoint(touch.clientX, touch.clientY);\n\t\t\tconst enter = get_par_elements(dom);\n\n\t\t\tconst e = make_mouse_event('mousemove', evt, touch);\n\t\t\t$(enter).trigger(e);\n\n\t\t\tif (evt.cancelable) evt.preventDefault();\n\t\t\tif (!opt.leave || dom == prev) return;\n\n\t\t\t////////////////////////////////////////////////////////\n\t\t\t// leave and enter event emulation\n\t\t\t////////////////////////////////////////////////////////\n\t\t\tconst leave = get_par_elements(prev);\n\n\t\t\t// Remove common elements\n\t\t\twhile(leave.length && enter.length\n\t\t\t   && leave[leave.length -1] == enter[enter.length -1]) {\n\t\t\t\tleave.pop();\n\t\t\t\tenter.pop();\n\t\t\t}\n\n\t\t\tconst e_leave = make_mouse_event('mouseleave', evt, touch);\n\t\t\tconst e_out   = make_mouse_event('mouseout',   evt, touch);\n\t\t\tconst e_enter = make_mouse_event('mouseenter', evt, touch);\n\t\t\tconst e_over  = make_mouse_event('mouseover',  evt, touch);\n\t\t\t$(leave).trigger( e_leave );\n\t\t\t$(prev) .trigger( e_out   );\n\t\t\t$(enter).trigger( e_enter );\n\t\t\t$(dom)  .trigger( e_over  );\n\n\t\t\t// save current dom\n\t\t\tprev=dom;\n\t\t}, {passive: false});\n\t}\n\n\tthis.each( function(idx, dom){\n\t\tregist_dnd_emulation(dom)\n\t});\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// \"dbltap\" event exclusive mouse\n////////////////////////////////////////////////////////////////////////////////\n// Double touch event order: touchstart, click, touchstart, click\n// Mouse double click order: click, click, dblclick\n$.event.special.mydbltap = {\n\tsetup: function(){\n\t\tlet flag;\n\t\tlet mouse;\n\t\tthis.addEventListener('click', function(evt) {\n\t\t\tif (flag) {\n\t\t\t\tflag = false;\n\t\t\t\tif (mouse) return;\n\t\t\t\treturn $(evt.target).trigger('mydbltap');\n\t\t\t}\n\t\t\tflag  = true;\n\t\t\tmouse = true;\n\t\t\tsetTimeout( function(){ flag = false; }, $$.DoubleTapTime);\n\t\t}, { passive: true });\n\n\t\tthis.addEventListener('touchstart', function(){\n\t\t\tmouse = false;\n\t\t}, { passive: true });\n\t}\n}\n","export //##############################################################################\n// Prefix Storage\n//\t\t\t\t\t\t\t(C)2019-2025 nabe@abk\n//##############################################################################\n//\n//impliment methods: set(), get(), remove(), clear()\n//\n/* Add \"export\" by Makefile */\nclass PrefixStorage {\n\tconstructor(path) {\n\t\tthis.ls     = localStorage;\n\t\tthis.prefix = String(path) + '::';\n\t}\n\n\tset(key, val) {\n\t\tthis.ls[this.prefix + key] = val;\n\t}\n\tget(key) {\n\t\treturn this.ls[this.prefix + key];\n\t}\n\tgetInt(key) {\n\t\tconst x = parseInt(this.ls[this.prefix + key]);\n\t\treturn isNaN(x) ? 0 : x;\n\t}\n\tdefined(key) {\n\t\treturn (this.ls[this.prefix + key] !== undefined);\n\t}\n\tremove(key) {\n\t\tthis.ls.removeItem(this.prefix + key);\n\t}\n\tclear = function() {\n\t\tconst ls  = this.ls;\n\t\tconst pf  = this.prefix;\n\t\tconst len = pf.length;\n\n\t\tconst ary = [];\n\t\tfor(let i=0; i<ls.length; i++) {\n\t\t\tconst k = ls.key(i);\n\t\t\tif (k.substr(0,len) === pf) ary.push(k);\n\t\t}\n\t\t// Do not delete in upper loop\n\t\tfor(var k in ary) {\n\t\t\tdelete ls[ary[k]];\n\t\t}\n\t}\n}\n","//##############################################################################\n// adiary UI\n//\t\t\t\t\t\t\t(C)2019-2025 nabe@abk\n//##############################################################################\n////////////////////////////////////////////////////////////////////////////////\n// dialog, use Popover API\n////////////////////////////////////////////////////////////////////////////////\n$.fn.adiaryDialog = function(opt = {}) {\n\tconst self = this;\n\tif ( opt === 'open' )\treturn this.adiaryDialogOpen();\n\tif ( opt === 'close' )\treturn this.adiaryDialogClose();\n\n\t////////////////////////////////////////////////////////////////////////\n\t// init dialog\n\t////////////////////////////////////////////////////////////////////////\n\tconst $win = $(window);\n\tconst $dialog = $('<dialog>').addClass('ui-dialog').attr('tabindex', -1);\n\tconst min_w = opt.minWidth  || 200;\n\tconst min_h = opt.minHeight || 150;\n\tlet   width = opt.width     || 300;\n\tif (width<0) width='auto';\n\t$dialog.css({\n\t\twidth:\t\twidth,\n\t\tminWidth:\tmin_w,\n\t\tminHeight:\tmin_h\n\t});\n\tif (opt.maxWidth)    $dialog.css('max-width',  opt.maxWidth );\n\tif (opt.maxHeight)   $dialog.css('max-height', opt.maxHeight);\n\tif (opt.dialogClass) $dialog.addClass( opt.dialogClass );\n\n\tconst data = this.adiaryUIData('dialog', { ...opt });\n\t// data.open        = opt.open;\n\t// data.close       = opt.close;\n\t// data.beforeClose = opt.beforeClose;\n\t// data.modal       = opt.modal;\n\tdata.$dialog = $dialog;\n\tdata.min_h   = min_h;\n\n\t////////////////////////////////////////////////////////////////////////\n\t// header\n\t////////////////////////////////////////////////////////////////////////\n\tconst $title = $('<div>').addClass('ui-dialog-titlebar ui-widget-header');\n\tconst $span  = $('<span>').addClass('ui-dialog-title')\n\t\t.html( opt.title || this.attr('title') || '&ensp;' );\n\t$title.append( $span );\n\t$dialog.append( $title );\n\n\t// close button\n\tif (opt.noExit) {\n\t\t$dialog.on('cancel', function(evt){ return false; });\n\t} else {\n\t\tconst $close = $('<button>').addClass('ui-button').attr({\n\t\t\t\ttitle: 'Close',\n\t\t\t\ttabindex: -1\n\t\t\t});\n\t\t$close.append( $('<span>').addClass('ui-icon ui-icon-closethick') );\n\t\t$title.append( $close );\n\t\t$close.on('click', function(){\n\t\t\tif (opt.exit) opt.exit();\n\t\t\tself.adiaryDialogClose();\n\t\t});\n\n\t\t$dialog.on('keydown', function(evt){\n\t\t\tif (evt.key == 'Escape') $close.click();\n\t\t});\n\t}\n\tdata.$header = $title;\n\n\n\t////////////////////////////////////////////////////////////////////////\n\t// main\n\t////////////////////////////////////////////////////////////////////////\n\tdata.$restore = this.parent();\n\tdata.display  = this.css('display');\n\n\tthis.addClass('ui-dialog-content');\n\t$dialog.append( this );\n\tthis.show();\n\n\t////////////////////////////////////////////////////////////////////////\n\t// button\n\t////////////////////////////////////////////////////////////////////////\n\tif (opt.buttons) {\n\t\tconst $footer = $('<div>').addClass('ui-dialog-buttonpane');\n\t\tconst $btnset = $('<div>').addClass('ui-dialog-buttonset');\n\t\tconst btns = opt.buttons;\n\t\tconst $btns = [];\n\t\tfor(let i in btns) {\n\t\t\tlet $btn = $('<button>')\n\t\t\t\t\t.addClass('ui-button')\n\t\t\t\t\t.attr('type', 'button')\n\t\t\t\t\t.text( i );\n\t\t\t$btn.on('click', btns[i]);\n\t\t\t$btnset.append($btn);\n\t\t\t$btns.push($btn);\n\t\t}\n\t\t$footer.append( $btnset );\n\t\t$dialog.append( $footer );\n\t\tdata.$footer = $footer;\n\t}\n\n\t////////////////////////////////////////////////////////////////////////\n\t// end\n\t////////////////////////////////////////////////////////////////////////\n\tif (opt && !opt.autoOpen && 'autoOpen' in opt) return this;\n\n\treturn this.adiaryDialogOpen();\n}\n\n$.fn.adiaryDialogOpen = function() {\n\tconst data    = this.adiaryUIData('dialog');\n\tconst $dialog = data.$dialog;\n\tif (!$dialog) throw(\"Do not open dialog!\");\n\n\tif (data.modal) {\n\t\t$dialog.adiaryShowModal();\n\t} else {\n\t\t$('body').append($dialog);\n\t\t$dialog[0].show();\n\t\t$dialog.focus();\n\t}\n\n\t// set css\n\tconst $win = $(window);\n\tconst hf   = data.$header.outerHeight() + (data.$footer ? data.$footer.outerHeight() : 0);\n\tthis.css('min-height', (data.min_h    - hf) + 'px');\n\tthis.css('max-height', ($win.height() - hf) + 'px');\n\n\tconst x = $win.scrollLeft() + ($win.width()  - $dialog.outerWidth() )/2;\n\tconst y = $win.scrollTop()  + ($win.height() - $dialog.outerHeight())/2;\n\t$dialog.css({\n\t\tleft:\tx,\n\t\ttop:\ty\n\t});\n\t$dialog.adiaryDraggable({\n\t\thandle: '.ui-dialog-titlebar'\n\t});\n\n\tif (data.open) data.open( null, this );\n\n\treturn this;\n}\n\n$.fn.adiaryDialogClose = function() {\n\tconst data    = this.adiaryUIData('dialog');\n\tconst $dialog = data.$dialog;\n\tif (!$dialog) throw(\"Do not close dialog!\");\n\n\tif (data.beforeClose) data.beforeClose.call( null, this );\n\n\tif (data.modal) {\n\t\t$dialog.adiaryCloseModal();\n\t} else {\n\t\t$dialog[0].close();\n\t\t$dialog.detach();\n\t}\n\tdata.$dialog =null;\n\n\tif (data.$restore && data.$restore.length) {\n\t\tthis.css('display', data.display);\n\t\tdata.$restore.append( this );\n\t}\n\n\tif (data.close) data.close.call( null, this );\n\n\treturn this;\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// overlay and modal function\n////////////////////////////////////////////////////////////////////////////////\n$.adiaryShowOverlay = function() {\n\tconst $overlay = $('<dialog>').addClass('ui-overlay').attr('tabindex', -1);;\n\t$overlay.adiaryShowModal();\n\t$overlay.close = function(){\n\t\tthis.adiaryCloseModal();\n\t\treturn this;\n\t}\n\treturn $overlay;\n}\n\n$.fn.adiaryShowModal = function() {\n\tconst inert = this.adiaryUIData('modal-inert', []);\n\t$('body').children().each((idx,dom) => {\n\t\tif (dom.inert) return;\n\t\tinert.push(dom);\n\t\tdom.inert = true;\n\t});\n\tthis.attr('popover', 'manual');\n\t$('body').append(this);\n\tthis[0].showPopover();\n\tthis.focus();\n\n\treturn this;\n}\n\n$.fn.adiaryCloseModal = function() {\n\tconst inert = this.adiaryUIData('modal-inert');\n\tfor(const dom of inert) {\n\t\tdom.inert = false;\n\t}\n\tthis[0].close();\n\tthis.detach();\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// Progressbar\n////////////////////////////////////////////////////////////////////////////////\n$.fn.adiaryProgressbar = function(opt) {\n\tconst data  = this.adiaryUIData('progress');\n\tif (opt === 'value') return data.value;\n\n\tif (opt.change)   data.change   = opt.change;\n\tif (opt.complete) data.complete = opt.complete;\n\n\tlet init;\n\tif (!('$value' in data)) {\n\t\tthis.find('.ui-progressbar-value').remove();\n\t\t// initalize\n\t\tdata.$value = $('<div>').addClass('ui-progressbar-value');\n\t\tthis.addClass('ui-progressbar');\n\t\tthis.append( data.$value );\n\t\tinit = true;\n\t}\n\n\t// value set\n\tconst old   = data.value;\n\tconst value = opt.value;\n\tdata.value  = value;\n\tdata.$value.css('width', value + '%');\n\n\tif (init || data.change && old != value) data.change  (data.value);\n\tif (      data.complete && 100 <= value) data.complete(data.value);\n\treturn this;\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// accordion\n////////////////////////////////////////////////////////////////////////////////\n$.fn.adiaryAccordion = function(opt) {\n\tconst $objs = this.children(\"h1,h2,h3,h4,h5,h6\");\n\t$objs.click(function(evt){\n\t\tconst $obj = $(evt.target);\n\t\tconst $div = $obj.next('div');\n\t\tif (!$div.length) return;\n\t\t$div.toggleDelay();\n\t});\n\t$objs.next('div').hide();\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// draggable\n////////////////////////////////////////////////////////////////////////////////\n$.fn.adiaryDraggable = function(opt) {\n\tlet sx;\n\tlet sy;\n\tlet $obj;\n\tthis.addClass('aui-draggable');\n\n\tthis.on('mousedown', function(evt){\n\t\t$('iframe').css('pointer-events', 'none');\n\t\tconst $tar = $(evt.target);\n\t\t$obj = $tar.hasClass('aui-draggable') ? $tar : $tar.parentsOne('.aui-draggable');\n\n\t\tif (opt) {\n\t\t\tconst $o = $tar;\n\t\t\tif ($tar != $obj) $o.add($tar.parentsUntil('.aui-draggable'));\n\t\t\tif (opt.cancel &&  $o.filter(opt.cancel).length) return;\n\t\t\tif (opt.handle && !$o.filter(opt.handle).length) return;\n\t\t}\n\t\tconst p = $obj.offset();\n\t\tsx = p.left - evt.pageX;\n\t\tsy = p.top  - evt.pageY;\n\t\tdocument.addEventListener('mousemove', move);\n\t\tevt.preventDefault();\n\t});\n\n\tthis.on('mouseup', function(evt){\n\t\t$('iframe').css('pointer-events', 'auto');\n\t\tdocument.removeEventListener('mousemove', move);\n\t\tevt.preventDefault();\n\t});\n\n\tfunction move(evt) {\n\t\tconst x = sx + evt.pageX;\n\t\tconst y = sy + evt.pageY;\n\t\t$obj.css({\n\t\t\tposition:\t'absolute',\n\t\t\tleft:\t\tx + 'px',\n\t\t\ttop:\t\ty + 'px'\n\t\t});\n\t\tevt.preventDefault();\n\t}\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// data function\n////////////////////////////////////////////////////////////////////////////////\n$.fn.adiaryUIData = function(name, val) {\n\tname = 'aui_' + name;\n\tif (arguments.length==2) this[name] = val;\n\tconst data = this[name] ||= {};\n\treturn data;\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// filter function\n////////////////////////////////////////////////////////////////////////////////\n$.adiaryUIFilterExists = function($objs, callback) {\n\tconst $ary  = [];\n\tconst $body = $('body');\n\n\tfor(let k in $objs) {\n\t\tif (! $body.find($objs[k]).length) continue;\n\t\t$ary.push($objs[k]);\n\t\tif (callback) callback($objs[k]);\n\t}\n\treturn $ary;\n}","export ////////////////////////////////////////////////////////////////////////////////\n// make main object\n////////////////////////////////////////////////////////////////////////////////\n/* Add \"export\" by Makefile */\nconst $$ = {\n\tSameSite:\t\t'Lax',\t// set_cookie() default\n\tDefaultShowSpeed:\t300,\t// msec\n\tTouchDnDTime:\t\t100,\t// msec\n\tDoubleTapTime:\t\t400,\t// msec\n\tPopupDelayTime:\t\t300,\t// msec\n\tPopupOffsetX:\t\t 15,\n\tPopupOffsetY:\t\t 10,\n\n\t$head:\t\t$('head'),\n\t$body:\t\t$('body')\n};\n\n////////////////////////////////////////////////////////////////////////////////\n// load message\n////////////////////////////////////////////////////////////////////////////////\n$$.msg = function(key, _default) {\n\tconst msgs = this.msgs || {};\n\tconst msg  = this.msgs[key];\n\treturn (msg === undefined) ? (_default || key.toUpperCase()) : msg;\n}\n\n$$.set_msg = function(obj, msg) {\n\tconst msgs = this.msgs ||= {};\n\n\tif (typeof(obj) != 'object') {\n\t\tmsgs[obj] = msg;\n\t\treturn;\n\t}\n\tthis.msgs = { ...msgs, ...obj };\n}\n","//##############################################################################\n// dialog functions\n//##############################################################################\n$$.dialog = function($div, opt = {}) {\n\t//--------------------------------------------------\n\t// Create Promise if not set callback().\n\t// This promise is not call reject().\n\t//--------------------------------------------------\n\tif (!opt.callback) {\n\t\tconst self=this;\n\t\treturn new Promise( (resolve, reject) => {\n\t\t\tself.dialog($div, {\n\t\t\t\t...opt,\n\t\t\t\tcallback: resolve\n\t\t\t});\n\t\t});\n\t}\n\n\t//--------------------------------------------------\n\t// main\n\t//--------------------------------------------------\n\tconst ok = opt.ok || this.msg('ok');\n\tconst btn= {};\n\tbtn[ok] = function(){\n\t\t$div.adiaryDialog('close');\n\t\tif (opt.callback) opt.callback( $div.prop('tagName')==='FORM' ? $div.parseFormHash() : true );\n\t};\n\tif (opt.cancelBtn) {\n\t\tbtn[ opt.cancel || this.msg('cancel') ] = function(){\n\t\t\t$div.adiaryDialog('close');\n\t\t\tif (opt.callback) opt.callback(false);\n\t\t};\n\t}\n\n\t// stop submit by enter and push ok button\n\tconst keyfunc = function(evt) {\n\t\tif (evt.which !== 13) return true;\n\t\tbtn[ok]();\n\t\treturn false;\n\t}\n\t$div.on('keypress', 'input', keyfunc);\n\n\t$div.adiaryDialog({\n\t\tnoExit: opt.noExit,\n\t\tmodal: true,\n\t\ttitle: opt.title,\n\t\tdialogClass: opt.class,\n\t\tbuttons: btn,\n\t\topen: function(){\n\t\t\tconst $bp = $div.siblings('.ui-dialog-buttonpane');\n\t\t\tif (opt.focus === 'ok')     $bp.find('button:eq(0)').focus();\n\t\t\tif (opt.focus === 'cancel') $bp.find('button:eq(1)').focus();\n\t\t},\n\t\texit: function(){\n\t\t\tif (opt.callback) opt.callback(false);\n\t\t},\n\t\tbeforeClose: function(){\n\t\t\t$div.off('keypress', 'input', keyfunc);\n\t\t},\n\t\tminWidth:  opt.minWidth  || $div.data('min-width'),\n\t\tminHeight: opt.minHeight || $div.data('min-height'),\n\t\twidth:     opt.width     || $div.data('width')\n\t});\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// base dialog\n////////////////////////////////////////////////////////////////////////////////\n$$.dialog_base = function(opt, msg, marg, callback) {\n\tif (!callback && typeof(marg) === 'function') {\n\t\tcallback = marg; marg = null;\n\t}\n\n\tlet $div;\n\tif (msg instanceof $) {\n\t\t$div = msg;\n\n\t} else {\n\t\tif (msg instanceof Object) {\n\t\t\topt = {...opt, ...msg};\n\t\t\tmsg = msg.html;\n\t\t}\n\n\t\tif (msg && msg.substr(0,1)==='#') {\n\t\t\t$div = $secure(msg);\n\n\t\t} else {\n\t\t\t$div = $('<div>');\n\t\t\tif (marg) {\n\t\t\t\tmsg = msg.replace(/%([A-Za-z])/g, function(w,m1){ return marg[m1] });\n\t\t\t\tmsg = msg.replace(/%[A-Za-z]/g, '');\n\t\t\t}\n\t\t\t$div.html( msg );\n\t\t}\n\t}\n\topt.title ||= $div && $div.data('title') || this.msg('confirm');\n\n\tif (callback) opt.callback=callback;\n\n\treturn this.dialog($div, opt);\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// dialogs\n////////////////////////////////////////////////////////////////////////////////\n$$.show_dialog = function(msg, marg, callback, opt = {}) {\n\treturn this.dialog_base(opt, msg, marg, callback);\n}\n\n$$.show_error = function(msg, marg, callback, opt) {\n\treturn this.dialog_base({\n\t\t\tclass:\t'error-dialog',\n\t\t\ttitle:\tthis.msg('error'),\n\t\t\t...opt\n\t\t},\n\t\tmsg, marg, callback);\n}\n\n$$.confirm = function(msg, marg, callback, opt) {\n\t\treturn this.dialog_base({\n\t\t\tcancelBtn:\ttrue,\n\t\t\ttitle:\t\tthis.msg('confirm'),\n\t\t\t...opt\n\t\t},\n\t\tmsg, marg, callback);\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// form dialog\n////////////////////////////////////////////////////////////////////////////////\n$$.form_dialog = function(title, ele, callback) {\n\n\tlet $form;\n\n\tif (ele instanceof $) {\n\t\t$form = ele;\n\n\t} else {\n\t\t$form = $('<form>');\n\t\tif (!Array.isArray(ele)) ele = [ ele ];\n\n\t\tfor(const x of ele) {\n\t\t\tif (typeof(x) === 'string') {\n\t\t\t\t$form.append( $('<div>').html(x) );\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (x.type == 'p') {\n\t\t\t\t$form.append( $('<p>').html( x.html ) );\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (x.type == 'textarea') {\n\t\t\t\tconst $ta = $('<textarea>').attr({\n\t\t\t\t\trows: x.rows || 5,\n\t\t\t\t\tname: x.name\n\t\t\t\t}).addClass('w100p');\n\t\t\t\tif (x.val != '') $ta.text( x.val );\n\t\t\t\t$form.append( $ta );\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (x.type == '*') {\n\t\t\t\t$form.append( x.html );\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\t// else\n\t\t\tconst $item = $('<div>');\n\t\t\tif ('before' in x) $item.append(x.before);\n\n\t\t\t$item.append($('<input>').attr({\n\t\t\t\t\ttype: x.type || 'text',\n\t\t\t\t\tname: x.name,\n\t\t\t\t\tvalue: x.value\n\t\t\t\t}).addClass( x.class || 'w80p')\n\t\t\t);\n\t\t\tif (x.iclass) $item.addClass(x.iclass);\n\n\t\t\tif ('after' in x) $item.append(x.after);\n\t\t\t$form.append( $item );\n\t\t}\n\t}\n\n\treturn this.dialog($form, {\n\t\ttitle: title,\n\t\tcallback: callback\n\t});\n}\n","//##############################################################################\n// Ajax\n//##############################################################################\n////////////////////////////////////////////////////////////////////////////////\n// send_ajax\n////////////////////////////////////////////////////////////////////////////////\n$$.send_ajax = function(opt) {\n\tconst self=this;\n\t//--------------------------------------------------\n\t// Create Promise if not set callback functions.\n\t//--------------------------------------------------\n\tif (!opt.success && !opt.error_dialog_callback) {\n\t\treturn new Promise( (resolve, reject) => {\n\t\t\tself.send_ajax({\n\t\t\t\t...opt,\n\t\t\t\tsuccess: resolve,\n\t\t\t\terror_dialog_callback: reject\n\t\t\t});\n\t\t});\n\t}\n\n\t//--------------------------------------------------\n\t// main\n\t//--------------------------------------------------\n\tfunction ajax_error(err, h) {\n\t\tif (opt.error) if (!opt.error(err, h)) return;\n\n\t\tlet msg = '';\n\t\tif (h) {\n\t\t\tif (h.msg) msg += '<p>' + self.tag_esc(h.msg.toString()) + '</p>';\n\t\t\tif (h.errs) {\n\t\t\t\tconst ary = [];\n\t\t\t\tconst e = h.errs;\n\t\t\t\tconst o = e._order || Object.keys(e);\n\t\t\t\tfor(let i in o) {\n\t\t\t\t\tif (e[o[i]]=='') continue;\n\t\t\t\t\tary.push( self.tag_esc(e[o[i]]) );\n\t\t\t\t}\n\t\t\t\tmsg += '<p class=\"ni\">' + ary.join(\"<br>\") + '</p>';\n\t\t\t}\n\t\t\tif (h._debug) msg += '<p class=\"ni\">' + h._debug.replace(/\\n/g, '<br>') + '</p>';\n\t\t} else {\n\t\t\tmsg = '<p>' + self.msg('server_response_error', 'response data error!') + '</p>';\n\t\t}\n\t\tself.show_error(msg, function(){\n\t\t\tif (opt.error_dialog_callback) opt.error_dialog_callback(err, h)\n\t\t});\n\t}\n\tconst data = opt.data;\n\treturn $.ajax(opt.url || self.myself || './', {\n\t\tmethod:\t\t'POST',\n\t\tdata:\t\tdata.toString() === '[object Object]' ? $.param(data) : data,\n\t\tprocessData:\tfalse,\n\t\tcontentType:\tfalse,\n\t\tdataType:\t'json',\n\t\terror:\t\tajax_error,\n\t\tsuccess:\tfunction(h) {\n\t\t\tif (h.ret != '0') return ajax_error('ret!=0', h);\n\t\t\tif (h._debug)     return ajax_error('_debug', h);\n\t\t\tif (opt.success) opt.success(h);\n\t\t},\n\t\tcomplete:\topt.complete,\n\t});\n};\n","////////////////////////////////////////////////////////////////////////////////\n// popup for mouseenter\n////////////////////////////////////////////////////////////////////////////////\n$$.popup = function(evt) {\n\tconst self  = this;\n\tconst $obj  = $(evt.target);\n\tlet   delay = $obj.data('delay') || this.PopupDelayTime;\n\tif (delay<1) delay=1;\n\n\tif (!evt.data.$div) {\n\t\tconst $popup = $('<div>').addClass('popup-block');\n\t\tthis.$body.append( $popup );\n\t \tevt.data.$div = $popup;\n\t}\n\n\t$obj.on('mouseleave', evt.data, function(evt){ self.popup_hide(evt) });\n\t$obj.data('timer', setTimeout(  function()   { self.popup_show(evt) }, delay));\n}\n\n$$.popup_show = function(evt) {\n\tconst $obj = $(evt.target);\n\tconst $div = evt.data.$div;\n\tif ($div.is(\":animated\")) return;\n\n\tif (evt.data.show) evt.data.show(evt, $obj, $div);\n\t$div.css(\"left\", (this.SP ? 0 : (evt.pageX + this.PopupOffsetX)));\n\t$div.css(\"top\" ,                 evt.pageY + this.PopupOffsetY);\n\t$div.showDelay();\n}\n\n$$.popup_hide = function(evt) {\n\tconst $obj = $(evt.target);\n\tconst $div = evt.data.$div;\n\tif ($obj.data('timer')) {\n\t\tclearTimeout( $obj.data('timer') );\n\t\t$obj.data('timer', null);\n\t}\n\t$obj.off('mouseout');\n\t$div.hide();\n\tif (evt.data.hide) evt.data.hide(evt, $obj, $div);\n}\n\n","//##############################################################################\n// dom extentions\n//##############################################################################\n////////////////////////////////////////////////////////////////////////////////\n// css-defer load\n////////////////////////////////////////////////////////////////////////////////\n$('link.css-defer').attr('rel', 'stylesheet');\n\n////////////////////////////////////////////////////////////////////////////////\n// popup-help\n////////////////////////////////////////////////////////////////////////////////\n$$.$body.on('mouseover', '.help[data-help]', {\n\tshow: function(evt, $obj, $div){\n\t\tconst text = $$.tag_esc_br( $obj.data(\"help\") );\n\t\t$div.addClass('popup popup-help');\n\t\t$div.html( text );\n\t}\n}, function(evt){ $$.popup(evt) });\n\n////////////////////////////////////////////////////////////////////////////////\n// button for link\n////////////////////////////////////////////////////////////////////////////////\n$$.$body.on('click', 'button[data-href]', function(evt){\n\tlocation.href = $(evt.target).data('href');\n});\n\n////////////////////////////////////////////////////////////////////////////////\n// button for value set to form element\n////////////////////////////////////////////////////////////////////////////////\n$$.$body.on('click', 'button.js-set-value[data-target]', function(evt){\n\tconst $btn = $(evt.target);\n\t$($btn.data('target')).val( $btn.attr('value') );\n});\n\n////////////////////////////////////////////////////////////////////////////////\n// do not submit by enter key\n////////////////////////////////////////////////////////////////////////////////\n$$.$body.on('keypress', 'input.no-enter-submit, form.no-enter-submit input', function(evt){\n\tif (evt.which === 13) return false;\n\treturn true;\n});\n\n////////////////////////////////////////////////////////////////////////////////\n// file upload button\n////////////////////////////////////////////////////////////////////////////////\n// <button class=\"js-file-btn\" data-target=\"#fileup\">\n// <input type=\"file\" id=\"fileup\" style=\"display:none\" data-target=\"#file-list\">\n// <span id=\"file-list\"></span>\n//\n$$.$body.on('click', 'button.js-file-btn', function(evt) {\n\tconst $obj = $(evt.target);\n\tconst $tar = $($obj.data('target'));\n\tif (! $tar.length ) return;\n\n\tif ($tar.data('target') && !$tar.data('--regist-change-evt')) {\n\t\t$tar.data('--regist-change-evt', true);\n\t\t$tar.on('change', function(evt){\n\t\t\tconst $span = $tar.rootfind( $tar.data('target') );\n\t\t\tconst file  = $tar.val().replace(/^.*?([^\\\\\\/]*)$/, \"$1\");\n\t\t\t$span.text( file );\n\t\t})\n\t}\n\n\t$tar.click();\n});\n\n////////////////////////////////////////////////////////////////////////////////\n// file reset button\n////////////////////////////////////////////////////////////////////////////////\n$$.$body.on('click', 'button.js-reset-btn', function(evt) {\n\tconst $obj = $(evt.target);\n\tconst $tar = $($obj.data('target'));\n\tif (!$tar.length || $tar.val()=='') return;\n\t$tar.val('').change();\n});\n\n////////////////////////////////////////////////////////////////////////////////\n// check all\n////////////////////////////////////////////////////////////////////////////////\n$$.$body.on('change', 'input.js-checked', function(evt){\n\tconst $obj   = $(evt.target);\n\tconst target = $obj.data( 'target' );\n\t$(target).prop(\"checked\", $obj.is(\":checked\"));\n});\n\n////////////////////////////////////////////////////////////////////////////////\n// submit on change\n////////////////////////////////////////////////////////////////////////////////\n$$.$body.on('change', '.js-on-change-submit', function(evt){\n\tconst $obj = $(evt.target);\n\t$obj.parentsOne('form').trigger('submit');\n});\n\n////////////////////////////////////////////////////////////////////////////////\n// line click for check on table\n////////////////////////////////////////////////////////////////////////////////\n$$.$body.on('click', 'tbody.js-line-checked', function(evt){\n\tconst $obj = $(evt.target);\n\tconst $pars= $obj.parents('tr');\n\tif ($pars.add($obj).filter('a,input,button,label,.line-checked-cancel').length) return;\n\n\tconst $tr  = $pars.last();\n\tconst $inp = $tr.find('input[type=\"checkbox\"],input[type=\"radio\"]');\n\t$inp.first().click();\n});\n\n////////////////////////////////////////////////////////////////////////////////\n// combo box\n////////////////////////////////////////////////////////////////////////////////\n// used by select.js-save\n\n$$.js_combo_dummy = \"\\e\\e\\e\\e\\e\\n\\n\";\n\n$$.$body.on('focus', 'select.js-combo', function(evt){\n\tconst $obj = $(evt.target);\n\t$obj.data('current', $obj.val() );\n\n\tif ($obj.find('option[value=\"' + dummy + '\"]').length) return;\n\t// add other option\n\tconst $opt = $('<option>').attr('value', dummy).text( $$.msg('other') );\n\t$obj.append( $opt );\n\t$obj.on('change', async function(evt) {\n\t\tconst $select = $(evt.target);\n\t\tconst _val    = $select.val();\n\t\tif (_val !== dummy)\n\t\t\treturn $select.data('current', _val);\n\t\t\n\t\tconst val = $select.data('current');\n\t\t$select.val( val );\n\n\t\tconst element = { name: 'data', value: val, class: $select.data('class') };\n\t\tconst format  = $select.data('format') || '';\n\t\tconst ma = format.match(/^(.*)%v(.*)$/);\n\t\tif (ma) {\n\t\t\telement.before = ma[1];\n\t\t\telement.after  = ma[2];\n\t\t}\n\n\t\tconst h = await $$.form_dialog($select.data('title'), element);\n\t\tif (h) {\n\t\t\tconst val = h.data;\n\t\t\tif (val == '' || $select.val() == val) return;\n\n\t\t\t// set value\n\t\t\t$select.val( val );\n\t\t\tif ($select.val() != val) {\n\t\t\t\tconst format = $select.data('format') || '%v';\n\t\t\t\tconst text = format.replace(/%v/g, val);\n\t\t\t\tconst $opt = $('<option>').attr('value', val).text( text );\n\t\t\t\t$select.append( $opt );\n\t\t\t\t$select.val( val );\n\t\t\t}\n\t\t\t$select.data('current', val);\n\t\t\t$select.change();\n\t\t}\n\t});\n});\n\n////////////////////////////////////////////////////////////////////////////////\n// sortable table\n////////////////////////////////////////////////////////////////////////////////\n$$.$body.on('click', 'table.js-sortable-value thead', function(evt){\n\tconst $o1  = $(evt.target).filter('th,td');\n\tconst $obj = $o1.length ? $o1 : $(evt.target).parentsOne('th,td');\n\tif ($obj.hasClass('disable-sort')) return;\n\n\tlet cnt=0;\n\tlet $x = $obj;\n\twhile($x.length) {\n\t\t$x = $x.prev();\n\t\tcnt++;\n\t}\n\n\tconst $tbody  = $obj.parentsOne('table').children('tbody');\n\tconst td_nth  = 'td:nth-child(' + cnt + ')';\n\tconst reverse = $tbody.data('_sortable_prev_cnt') == cnt;\n\t$tbody.data('_sortable_prev_cnt', reverse ? -1 : cnt);\n\n\t$tbody.each(function(idx,dom){\n\t\tconst $tbody = $(dom);\n\t\tlet   isNum  = true;\n\t\tconst lines  = [];\n\t\t$tbody.children('tr').each(function(i2,tr){\n\t\t\tconst $tr = $(tr);\n\t\t\tconst $td = $tr.children(td_nth);\n\t\t\tconst val = $td.existsData('sort') ? $td.data('sort') : $td.text().replace(/^\\s+/, '').replace(/\\s+$/, '');\n\t\t\tconst num = Number(val);\n\t\t\tif (isNaN(num)) isNum = false;\n\n\t\t\tlines.push({\n\t\t\t\tval:\tval,\n\t\t\t\tnum:\tnum,\n\t\t\t\t$tr:\t$tr\n\t\t\t});\n\t\t});\n\n\t\tif (isNum) lines.sort(function(a,b){ return a.num - b.num; });\n\t\t      else lines.sort(function(a,b){ return a.val===b.val ? 0 : a.val < b.val; });\n\t\tif (reverse) lines.reverse();\n\n\t\t$tbody.empty();\n\t\tfor(let i in lines) $tbody.append(lines[i].$tr);\n\t});\n});\n","//##############################################################################\n// dom special extentions\n//##############################################################################\n(function(){\n\tconst ary = [];\n\tlet   initialized;\n\n\t$$.dom_init = function(func, priority) {\n\t\tif (typeof(func) == 'function') {\n\t\t\tif (initialized) {\n\t\t\t\tif (priority) console.warn('dom_init() initialized, but priority set', priority);\n\t\t\t\tfunc.call(this, this.$body);\n\t\t\t}\n\t\t\treturn ary.push({\n\t\t\t\tfunc:\tfunc,\n\t\t\t\tp:\tpriority || 100\n\t\t\t});\n\t\t}\n\n\t\t// initlize functions\n\t\tary.sort(function(a,b) {\n\t\t\treturn a.p - b.p;\n\t\t});\n\n\t\tconst $obj = func ? func : this.$body;\n\t\tfor(var i=0; i<ary.length; i++)\n\t\t\tary[i].func.call(this, $obj);\n\n\t\tinitialized = true;\n\t};\n})();\n\n////////////////////////////////////////////////////////////////////////////////\n// submit checker\n////////////////////////////////////////////////////////////////////////////////\n$$.dom_init( function($R){\n\tconst self=this;\n\n\t$R.findx('button.js-check-form').on('click', function(evt){\n\t\tconst $obj  = $(evt.target);\n\t\tconst $form = $obj.parents('form.js-check-form');\n\t\tif (!$form.length) return;\n\t\t$form.data('confirm', $obj.data('confirm') );\n\t\t$form.data('focus',   $obj.data('focus')   );\n\t\t$form.data('button',  $obj);\n\t});\n\n\t$R.findx('form.js-check-form').onSequence('submit', 10, function(evt){\n\t\tconst $form  = $(evt.target);\n\t\tconst target = $form.data('target');\n\t\tlet count=0;\n\t\tif (target) {\n\t\t\tcount = $form.rootfind( target + \":checked\" ).length;\n\t\t\tif (!count) return false;\t// no check\n\t\t}\n\n\t\t// confirm message\n\t\tlet confirm = $form.data('confirm');\n\t\tif (!confirm) return true;\n  \t\tif ($form.data('--js-check-form-ok')) {\n  \t\t\t$form.data('--js-check-form-ok', false);\n  \t\t\treturn true;\n  \t\t}\n\n\t\t// confirm dialog\n\t\tself.dialog_base({\n\t\t\ttitle:\t\tself.msg('confirm'),\n\t\t\tfocus:\t\t$form.data('focus'),\n\t\t\tcancelBtn:\ttrue\n\t\t}, confirm, { c: count }\n\t\t, function(flag) {\n\t\t\tif (!flag) return;\n  \t\t\t$form.data('--js-check-form-ok', true);\n\t\t\tif ($form.data('button')) return $form.data('button').click();\n\n\t\t\t$form.triggerWithOE(evt.originalEvent);\n\t\t});\n\t\treturn false;\n\t});\n});\n\n////////////////////////////////////////////////////////////////////////////////\n// ajax form\n////////////////////////////////////////////////////////////////////////////////\n$$.dom_init( function($R) {\n\tconst self=this;\n\tconst submit_func = function(evt, $form){\n\t\t$form.find('.error').removeClass('error');\n\n\t\t// form data\n\t\tconst gen  = $form.data('generator');\n\t\tlet   data = gen ? gen($form, evt) : new FormData($form[0]);\n\n\t\t// submitter button\n\t\tconst sb = evt.originalEvent && evt.originalEvent.submitter;\n\t\tif (sb && sb.tagName==='BUTTON' && sb.name!=='')\n\t\t\tdata.append(sb.name, sb.value);\n\n\t\t// submit url-encode\n\t\tif (!gen && !$form.find('input[type=\"file\"]').length)\n\t\t\tdata = new URLSearchParams(data);\n\n\t\t// stop re-entry\n\t\tif (!$form.data('reentry')) {\n\t\t\tif ($form.data('--js-ajax-stop')) return;\n\t\t\t$form.data('--js-ajax-stop', true);\n\t\t\t$form.prop('disabled', true);\n\t\t}\n\n\t\tconst $overlay   = $form.data('overlay') && $.adiaryShowOverlay();\n\t\tconst start_func = $form.data('start');\n\t\tconst comp_func  = $form.data('complete');\n\t\tif (typeof(start_func) === 'function') start_func($form);\n\n\t\tself.send_ajax({\n\t\t\turl:\t$form.attr('action'),\n\t\t\tdata:\tdata,\n\t\t\tsuccess: function(h) {\n\t\t\t\tif ($overlay) $overlay.close();\n\t\t\t\tconst success = $form.data('success');\n\t\t\t\tconst url = $form.data('url');\n\t\t\t\tif (typeof(success) === 'function') return success(h);\n\t\t\t\tif (typeof(success) === 'string' && success != '') {\n\t\t\t\t\treturn self.show_dialog(success, function(){\n\t\t\t\t\t\tif (url) location = url;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tif (url) location = url;\n\t\t\t},\n\t\t\terror: function(err, h) {\n\t\t\t\tif ($overlay) $overlay.close();\n\t\t\t\tconst error = $form.data('error');\n\t\t\t\tif (typeof(error) === 'function') return error(h);\n\n\t\t\t\tif (!h || !h.errs) return true;\n\t\t\t\tconst e = h.errs;\n\t\t\t\tfor(let k in e) {\n\t\t\t\t\tif (k == '_order') continue;\n\n\t\t\t\t\t// with number?\n\t\t\t\t\tconst ma  = k.match(/^(.*)#(\\d+)$/);\n\t\t\t\t\tconst num = ma ? ma[2] : undefined;\n\t\t\t\t\tk = ma ? ma[1] : k;\n\t\t\t\t\ttry {\n\t\t\t\t\t\tlet $x = $form.find('[name=\"' + k+ '\"], [data-name=\"' + k + '\"]');\n\t\t\t\t\t\tif (num) $x = $($x[num-1]);\n\t\t\t\t\t\t$x.addClass('error');\n\t\t\t\t\t} catch(e) {\n\t\t\t\t\t\tconsole.error(e);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t},\n\t\t\terror_dialog_callback: function(){\n\t\t\t\tconst callback = $form.data('error_dialog_callback');\n\t\t\t\tif (typeof(callback) === 'function') return callback();\n\t\t\t},\n\t\t\tcomplete: function(h) {\n\t\t\t\tif (typeof(comp_func) === 'function') comp_func($form);\n\t\t\t\tif ($form.data('--js-ajax-stop')) {\n\t\t\t\t\t$form.data('--js-ajax-stop', false);\n\t\t\t\t\t$form.prop('disabled', false);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\t$R.find('form.js-ajax').onSequence('submit', 100, function(evt) {\n\t\tconst $form  = $(evt.target);\n\t\tconst submit = function(){ submit_func(evt, $form) };\n\n\t\tconst checker = $form.data('checker');\n\t\tif (typeof(checker) === 'function') {\n\t\t\tif (! checker($form, submit)) return false;\n\t\t}\n\t\tsubmit();\n\t\treturn false;\n\t});\n});\n\n////////////////////////////////////////////////////////////////////////////////\n// auto save form value\n////////////////////////////////////////////////////////////////////////////////\n$$.dom_init( function($R) {\n\tconst self = this;\n\n\t$R.findx('input.js-save, select.js-save').each( function(idx, dom) {\n\t\tconst $obj = $(dom);\n\t\tconst type = $obj[0].type;\n\n\t\tlet id = type != 'radio' && $obj.attr(\"id\");\n\t\tif (!id) id = 'name=' + $obj.attr(\"name\");\n\t\tif (!id) return;\n\n\t\tif (type == 'checkbox') {\n\t\t\t$obj.change( function(evt){\n\t\t\t\tconst $o = $(evt.target);\n\t\t\t\tself.Storage.set(id, $o.prop('checked') ? 1 : 0);\n\t\t\t});\n\t\t\tif ( self.Storage.defined(id) )\n\t\t\t\t$obj.prop('checked', self.Storage.get(id) != 0 );\n\t\t\treturn;\n\t\t}\n\t\tif (type == 'radio') {\n\t\t\tconst val = $obj.attr('value');\n\t\t\t$obj.change( function(evt){\n\t\t\t\tconst $o = $(evt.target);\n\t\t\t\tself.Storage.set(id, val);\n\t\t\t});\n\t\t\tif ( self.Storage.defined(id) && val == self.Storage.get(id)) {\n\t\t\t\t$obj.prop('checked', 1);\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\t$obj.change( function(evt){\n\t\t\tconst $o = $(evt.target);\n\t\t\tif ($o.val() == self.js_combo_dummy_val) return;\n\t\t\tself.Storage.set(id, $o.val());\n\t\t});\n\t\tconst val = self.Storage.get(id);\n\t\tif (! val) return;\n\t\tif (dom.tagName == 'SELECT')\n\t\t\treturn self.set_value_on_select( $obj, val );\n\t\t\n\t\treturn $obj.val( val );\n\t});\n});\n\n////////////////////////////////////////////////////////////////////////////////\n// form dom element enable/disable by other form elements\n////////////////////////////////////////////////////////////////////////////////\n$$.dom_init( function($R){\n\tconst $objs = $R.findx('input.js-enable, input.js-disable, select.js-enable, select.js-disable');\n\n\tlet   init;\n\tconst func = function(evt) {\n\t\tconst $btn = $(evt.target);\n\t\tconst $tar = $btn.rootfind( $btn.data('target') );\n\n\t\tconst type = $btn[0].type;\n\n\t\t// radio button with data-state=\"0\" or \"1\"\n\t\tif (type == 'radio') {\n\t\t\tif ($btn.prop(\"disabled\") || !$btn.prop(\"checked\")) return;\n\t\t\tlet flag = $btn.data(\"state\");\n\t\t\tif ($btn.hasClass('js-enable')) flag=!flag;\n\t\t\t$tar.prop('disabled', flag);\n\t\t\treturn;\n\t\t}\n\n\t\tlet flag;\n\t\tif (type == 'checkbox') {\n\t\t\tflag = !$btn.prop(\"disabled\") && $btn.prop(\"checked\");\n\t\t} else if (type == 'number' || $btn.data('type') == 'int') {\n\t\t\tvar val = $btn.val();\n\t\t\tflag = val.length && val > 0;\n\t\t} else {\n\t\t\tflag = ! ($btn.val() + '').match(/^\\s*$/);\n\t\t}\n\n\t\t// change flag?\n\t\tif (!init && $btn.data('_flag') === flag) return;\n\t\t$btn.data('_flag', flag);\n\n\t\t// disabled?\n\t\tconst counter = $btn.hasClass('js-disable') ? '_disable_c' :  '_enable_c';\n\t\tconst add     = flag ? 1 : (init ? 0 : -1);\n\t\t$tar.each(function(idx,dom){\n\t\t\tconst $obj = $(dom);\n\t\t\t$obj.data(counter, ($obj.data(counter) || 0) + add);\n\n\t\t\tconst diff = ($obj.data('_disable_c') || 0) - ($obj.data('_enable_c') || 0)\n\t\t\t\t   + ($btn.hasClass('js-enable') ? 0.1 : 0);\n\n\t\t\t$obj.prop('disabled', diff>0);\n\t\t});\n\t}\n\t// regist\n\t$objs.change( func );\n\tinit = true;\n\t$objs.change();\n\tinit = false;\n});\n\n////////////////////////////////////////////////////////////////////////////////\n// click for dom show/hide\n////////////////////////////////////////////////////////////////////////////////\n/* example)\n\t<label><input type=\"checkbox\" class=\"js-switch\" data-target=\"xxx\"></label>\n\t<button type=\"button\" class=\"js-switch\"  data-target=\"xxx\"\n\t data-delay=\"300\"\n\t data-hide-val=\"show it\" data-show-val=\"hide it\" data-negative=\"1\">msg</button>\n*/\n(function(){\n\tfunction toggle($obj, init) {\n\t\tif ($obj[0].tagName == 'A') return true;\t// link click\n\n\t\t// append switch icon\n\t\tif (init && $obj[0].tagName != 'INPUT' && $obj[0].tagName != 'BUTTON') {\n\t\t\tconst $span = $('<span>');\n\t\t\t$span.addClass('ui-icon switch-icon');\n\t\t\t$obj.prepend($span).addClass('sw-show');\n\t\t}\n\n\t\tconst type = $obj[0].tagName == 'INPUT' && $obj[0].type;\n\t\tlet   tar  = $obj.data('target');\n\t\tif (!tar) {\n\t\t\t// $obj is children\n\t\t\t$obj = $obj.parentsOne(\".js-switch\");\n\t\t\tif (!$obj.length) return;\n\t\t\ttar = $obj.data('target');\n\t\t}\n\t\tconst $target = $(tar);\n\t\tif (!$target.length) return false;\n\n\t\t// save switch status\n\t\tconst storage = $obj.existsData('save') ? this.Storage : null;\n\n\t\t// get current state\n\t\tconst id = $obj.attr('id') || $obj.attr('name') || tar;\n\t\tlet flag;\n\t\tif (init && storage && storage.defined(id)) {\n\t\t\tflag = storage.getInt(id) ? true : false;\n\t\t\tif (type == 'checkbox' || type == 'radio') $obj.prop(\"checked\", flag);\n\t\t} else if (type == 'checkbox' || type == 'radio') {\n\t\t\tflag = $obj.prop(\"checked\");\n\t\t} else if (init && $obj.data('default') == 'show') {\n\t\t\tflag = true;\n\t\t} else if (init && $obj.data('default') == 'hide') {\n\t\t\tflag = false;\n\t\t} else {\n\t\t\tflag = init ? !$target.is(':hidden') : $target.is(':hidden');\n\t\t}\n\t\tif ($obj.data('negative')) flag = !flag;\n\n\t\t// show speed\n\t\tlet delay = $obj.data('delay');\n\t\tif (delay === undefined || delay === '') delay = this.DefaultShowSpeed;\n\n\t\t// fast mode\n\t\tif ($obj.data('fast')) {\n\t\t\tconst css_id = '--css--' + id.replace(/[^\\w\\-]/g, '-');\n\t\t\tlet   $css   = $('#' + css_id);\n\t\t\tif (!$css.length) {\n\t\t\t\t$css = $('<style>').attr('id', css_id);\n\t\t\t\t$('head').append($css);\n\t\t\t}\n\t\t\t$css.text( flag ? '' : tar + '{ display: none; }' );\n\t\t\treturn true;\n\t\t}\n\n\t\t// set state\n\t\tif (flag) {\n\t\t\t$obj.addClass('sw-show');\n\t\t\t$obj.removeClass('sw-hide');\n\t\t\tif (init) $target.show();\n\t\t\t     else $target.show(delay);\n\t\t\tif (storage) storage.set(id, '1');\n\t\t\n\t\t} else {\n\t\t\t$obj.addClass('sw-hide');\n\t\t\t$obj.removeClass('sw-show');\n\t\t\tif (init) $target.hide();\n\t\t\t     else $target.hide(delay);\n\t\t\tif (storage) storage.set(id, '0');\n\t\t}\n\t\tif (type == 'button') {\n\t\t\tconst val = flag ? $obj.data('show-val') : $obj.data('hide-val');\n\t\t\tif (val != undefined) $obj.val( val );\n\t\t}\n\t\treturn true;\n\t}\n\n\t$$.dom_init( function($R){\n\t\tconst self = this;\n\t\tconst func = function(evt){\n\t\t\tconst $obj = $(evt.target);\n\t\t\tif ($obj[0].type != \"radio\")\n\t\t\t\treturn toggle.call(self, $obj);\n\n\t\t\tconst name = $obj.attr('name');\n\t\t\t$('input.js-switch[name=\\\"' + name + '\"]').each(function(idx, dom){\n\t\t\t\t toggle.call(self, $(dom));\n\t\t\t});\n\t\t}\n\n\t\t$R.findx('.js-switch').each( function(idx,dom) {\n\t\t\tconst $obj = $(dom);\n\t\t\tconst f    = toggle.call(self, $obj, true);\t// init=true\n\t\t\tif (f) \t// initalize success\n\t\t\t\t$obj.on(dom.tagName == 'INPUT' ? 'change' : 'click', func);\n\t\t} );\n\t});\n})();\n\n////////////////////////////////////////////////////////////////////////////////\n// accordion\n////////////////////////////////////////////////////////////////////////////////\n$$.dom_init(function($R){\n\tconst $accordion = $R.findx('.js-accordion');\n\tif (!$accordion.length) return;\n\t$accordion.adiaryAccordion();\n});\n\n////////////////////////////////////////////////////////////////////////////////\n// custom multiple select\n////////////////////////////////////////////////////////////////////////////////\n$$.dom_init( function($R){\n\t$R.findx('select.js-multiple').each(function(idx,dom){\n\t\tconst $sel = $(dom);\n\t\tif ($sel.prop('multiple')) return;\t// if select is multiple, do nothing.\n\t\t// multiple select box is height box style.\n\t\t// $sel copy to after with multiple attribute.\n\n\t\tconst $multi = $sel.clone(true).prop('multiple', true).removeClass('js-multiple').css('display', 'none');\n\t\t$sel.data('__multi', $multi);\n\n\t\t$sel.removeAttr('id');\n\t\t$sel.removeAttr('name');\n\t\t$multi.find('option.js-multiple-ignore').remove();\n\t\t$multi.insertAfter($sel);\n\n\t\tconst $opts = $multi.find('option');\n\t\t$opts.each(function(idx,dom){\n\t\t\tconst $opt = $(dom);\n\t\t\t$opt.prop('selected', $opt.data('selected'));\n\t\t});\n\n\t\tconst __change = function(evt){\n\t\t\tconst ary = [];\n\t\t\t$opts.each(function(idx,dom){\n\t\t\t\tconst $opt = $(dom);\n\t\t\t\tif ($opt.prop('selected')) ary.push($opt.html());\n\t\t\t});\n\t\t\tif (ary.length) {\n\t\t\t\tconst $add = $('<option>').addClass('js-multple-selected').html( ary[0] + (ary[1] ? '...' : '') );\n\t\t\t\t$sel.find('.js-multple-selected').remove();\n\t\t\t\t$sel.append( $add.prop('selected', true) );\n\t\t\t}\n\t\t};\n\t\t__change();\n\t\t$multi.on('change', __change);\n\t});\n});\n\n\t$$.$body.on('mousedown keydown', 'select.js-multiple', function(evt){\n\t\tconst $_obj  = $(evt.currentTarget);\n\t\tconst $multi = $_obj.data('__multi') || $_obj;\n\n\t\tconst lclass  = $multi.data('label-class');\n\t\tconst cdialog = $multi.data('custom-dialog');\n\t\tconst $dialog = cdialog ? $(cdialog) : $('<div>').data('title', $multi.data('title'));\n\t\tconst val2opt = {};\n\n\t\t$multi.find('option').each(function(idx,dom){\n\t\t\tconst $opt = $(dom);\n\t\t\tif ($opt.hasClass('js-multiple-ignore')) return;\n\n\t\t\tconst val  = $opt.val();\n\t\t\tval2opt[val] = $opt;\n\t\t\tif (cdialog) return;\n\n\t\t\tconst $label = $('<label>').html( $opt.html() );\n\t\t\tif (lclass !=='' && lclass !== undefined) $label.addClass(lclass)\n\n\t\t\t$label.prepend(\n\t\t\t\t$('<input>').attr({\n\t\t\t\t\ttype:\t'checkbox',\n\t\t\t\t\tvalue:\tval,\n\t\t\t\t})\n\t\t\t\t.prop('checked', $opt.prop('selected'))\n\t\t\t).addClass($opt.data('label-class'));\n\t\t\t$dialog.append( $label );\n\t\t});\n\n\t\t$$.show_dialog($dialog, function(flag) {\n\t\t\tif (!flag) return;\n\n\t\t\tlet change;\n\n\t\t\t$dialog.find('input').each(function(idx,dom){\n\t\t\t\tconst $inp = $(dom);\n\t\t\t\tconst val  = $inp.val();\n\t\t\t\tconst $opt = val2opt[val];\n\t\t\t\tconst flag = $inp.prop('checked');\n\t\t\t\tif ($inp.hasClass('js-multiple-ignore') || !$opt) return;\n\n\t\t\t\tif (flag != $opt.prop('selected')) change=true;\n\t\t\t\t$opt.prop('selected', flag);\n\t\t\t});\n\t\t\tif (change) $multi.change();\n\t\t});\n\n\t\tevt.preventDefault();\n\t\treturn false;\n\t});\n","//##############################################################################\n// subroutines\n//##############################################################################\n////////////////////////////////////////////////////////////////////////////////\n// load script\n////////////////////////////////////////////////////////////////////////////////\n(function(){\n\tconst inc = {};\n\n\t$$.load_script = function(url) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tconst x=inc[url];\n\t\t\tif (x) {\n\t\t\t\tif (x===1) return resolve();\n\t\t\t\t// now loading\n\t\t\t\tx.on('load', resolve);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst $s = inc[url]\n\t\t\t\t = $(document.createElement('script'))\n\t\t\t\t.attr('src',   url)\n\t\t\t\t.prop('async', true);\n\t\t\t$s.on('load', (evt) => {\n\t\t\t\tinc[url] = 1;\n\t\t\t\tresolve(evt);\n\t\t\t});\n\t\t\tthis.$head[0].appendChild( $s[0] );\n\t\t});\n\t}\n})();\n\n////////////////////////////////////////////////////////////////////////////////\n// escape html tag\n////////////////////////////////////////////////////////////////////////////////\n$$.tag_esc = function(text) {\n\treturn text\n\t\t.replace(/</g, '&lt;')\n\t\t.replace(/>/g, '&gt;')\n\t\t.replace(/\"/g, '&quot;')\n\t\t.replace(/'/g, '&apos;')\n}\n$$.tag_esc_br = function(text) {\n\treturn this.tag_esc(text).replace(/\\n|\\\\n/g,'<br>');\n}\n$$.tag_esc_amp = function(text) {\n\treturn this.tag_esc( text.replace(/&/g,'&amp;') );\n}\n$$.tag_unesc = function(text) {\n\treturn text\n\t\t.replace(/&apos;/g, \"'\")\n\t\t.replace(/&quot;/g, '\"')\n\t\t.replace(/&gt;/g, '>')\n\t\t.replace(/&lt;/g, '<')\n\t\t.replace(/&#92;/g, \"\\\\\")\t// for JSON data\n}\n$$.tag_unesc_amp = function(text) {\n\treturn this.tag_unesc(text).replace(/&amp;/g,'&');\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// Cookie\n////////////////////////////////////////////////////////////////////////////////\n$$.set_cookie = function(name, val) {\n\tdocument.cookie = encodeURIComponent(name) + '=' + encodeURIComponent(val) + '; SameSite=' + this.SameSite + ';';\n}\n$$.get_cookie = function(name) {\n\tconst ary = document.cookie.split(/; */);\n\tfor(const v of ary) {\n\t\tconst x = v.split('=', 2);\n\t\tconst k = decodeURIComponent( x[0] );\n\t\tif (name != k) continue;\n\t\treturn decodeURIComponent( x[1] );\n\t}\n\treturn;\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// parse JSON in html comment\n////////////////////////////////////////////////////////////////////////////////\n$$.parse_json_html = function($obj) {\n\tconst json = $obj.html().replace(/^\\s*<!--\\s*/, '').replace(/\\s*-->\\s*$/, '');\n\treturn JSON.parse(json);\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// file size format\n////////////////////////////////////////////////////////////////////////////////\n$$.format_size = function(s) {\n\tif (s > 107374182400)\t\t// 100GB\n\t\treturn Math.round(s/1073741824).toLocaleString() + ' GB';\n\tif (s > 1047527424) return ( s/1073741824 ).toPrecision(3) + ' GB';\n\tif (s >    1022976) return ( s/1048576    ).toPrecision(3) + ' MB';\n\tif (s >        999) return ( s/1024       ).toPrecision(3) + ' KB';\n\treturn s + ' Byte';\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// to int, float\n////////////////////////////////////////////////////////////////////////////////\n$$.int = function(s) {\n\tconst x = parseInt(s);\n\treturn isNaN(x) ? 0 : x;\n}\n$$.float = function(s) {\n\tconst x = parseFloat(s);\n\treturn isNaN(x) ? 0 : x;\n}\n","//##############################################################################\n// run init for develop mode\n//##############################################################################\n(function(){\n\tconst $vars = $('#asys-vars');\n\tconst vars  = $$.vars = ($vars.length==1) ? $$.parse_json_html($vars) : {};\n\n\tconst $msgs = $('#asys-msgs');\n\tif ($msgs.length==1) {\n\t\tconst data = $$.parse_json_html($msgs);\n\t\t$$.set_msg(data);\n\t}\n\n\t// PrefixStorage\n\t$$.Storage = new PrefixStorage( vars.myself || '/' );\n\n\t// Export\n\tglobalThis[vars.name || 'asys']=$$;\n\n\t// dom initalize\n\t$$.dom_init();\n})();\n\n","export default $$;\n"],"mappings":";;;;;;AAMA,aCAAA,OAAOC,UAAUC,KAAO,WACvB,OAAOC,KAAKC,MAAM,GAAG,EACtB,EAKAJ,OAAOC,UAAUI,GAAK,SAASC,EAAKC,GACnC,SAASC,EAAOC,GACf,OAAWC,MAAPD,EAAyB,GACtBA,EAAIE,QAAQ,aAAa,SAASC,EAAGC,EAAGC,GAC9C,MAAMC,EAAIF,EAAGG,WAAW,GAClBC,EAAIH,EAAGE,WAAW,GACxB,IAAIE,EAAE,GACN,IAAI,IAAIC,EAAEJ,EAAEK,EAAE,EAAGD,GAAGF,GAAKG,EAAE,IAAMD,IAAIC,IACpCF,GAAKlB,OAAOqB,aAAaF,GAE1B,OAAOD,CACR,GACD,CACA,MAAMI,EAAKd,EAAOF,GACZiB,EAAKf,EAAOD,GAClB,GAAIe,EAAGE,QAAUD,EAAGC,OACnB,KAAK,uCAGN,OAAOrB,KAAKsB,MAAM,IAAIC,KAAI,SAASN,GAClC,MAAMD,EAAIG,EAAGK,QAAQP,GACrB,OAAID,EAAE,EAAUC,EACTG,EAAGJ,EACX,IAAGS,KAAK,GACT,EC/BAC,EAAEC,GAAGC,UAAY,WAChB,IAAIC,EAAOC,MAAMC,KAAKC,WAEtB,OADAH,EAAKI,QAAQC,GAAGC,kBACTT,EAAEC,GAAGS,KAAKC,MAAMrC,KAAM6B,EAC9B,EACAH,EAAEC,GAAGW,UAAY,WAChB,IAAIT,EAAOC,MAAMC,KAAKC,WAEtB,OADAH,EAAKI,QAAQC,GAAGC,kBACTT,EAAEC,GAAGY,KAAKF,MAAMrC,KAAM6B,EAC9B,EACAH,EAAEC,GAAGa,YAAc,WAClB,IAAIX,EAAOC,MAAMC,KAAKC,WAEtB,OADAH,EAAKI,QAAQC,GAAGC,kBACTT,EAAEC,GAAGc,OAAOJ,MAAMrC,KAAM6B,EAChC,EAKAH,EAAEC,GAAGe,MAAQ,WACZ,OAAOhB,EAAEC,GAAGgB,OAAON,MAAMrC,KAAMgC,WAAWY,IAAKlB,EAAEC,GAAGkB,KAAKR,MAAMrC,KAAMgC,WACtE,EAKAN,EAAEC,GAAGmB,SAAW,SAASC,GACxB,OAAO/C,KAAKgD,UAAUC,OAAOJ,KAAKE,EACnC,EACArB,EAAEC,GAAGuB,WAAa,SAASP,GAC1B,OAAO3C,KAAKgD,QAAQL,GAAQQ,OAC7B,EACAzB,EAAEC,GAAGyB,WAAa,SAASC,GAE1B,YAAa9C,IADHP,KAAKsD,KAAKD,EAErB,EAKA3B,EAAEC,GAAG4B,cAAgB,SAASC,GAC7B,OAAOxD,KAAKyD,YAAW,EAAOD,EAC/B,EACA9B,EAAEC,GAAG+B,YAAc,SAASF,GAC3B,OAAOxD,KAAKyD,YAAW,EAAOD,EAC/B,EACA9B,EAAEC,GAAG8B,WAAa,SAASE,EAAQH,GAClC,MAAMF,EAAOK,EAAS,IAAIC,SAAW,CAAC,EAChCC,EAAWL,aAAkB9B,QACpBnB,IAAXiD,EADoCA,EACJ9B,EAAE8B,GAuBtC,OArBAxD,KAAK6C,KAAK,2BAA2BiB,MAAK,SAASC,EAAKC,GACvD,GAAIA,EAAIC,SAAU,OAClB,GAAgB,YAAZD,EAAIE,OAAuBF,EAAIG,QAAS,OAC5C,GAAIN,GAAWA,EAAQhB,KAAKmB,GAAK3C,OAAQ,OAEzC,MAAMgC,EAAOW,EAAIX,KAGjB,GAAmB,SAAfW,EAAII,SAAkC,QAAZJ,EAAIE,KAOtB3D,MAAR8C,GAA6B,IAARA,IACrBM,EACHL,EAAKe,OAAOhB,EAAM3B,EAAEsC,GAAKM,OAEzBhB,EAAKD,GAAQ3B,EAAEsC,GAAKM,WAXrB,CACC,IAAKX,EAAQ,OACb,MAAMY,EAAQP,EAAIO,MAClB,IAAI,IAAIvD,EAAE,EAAGA,EAAEuD,EAAMlD,OAAQL,IAC5BsC,EAAKe,OAAOhB,EAAMkB,EAAMvD,GAE1B,CAMD,IACOsC,CACR,EAKA5B,EAAEC,GAAG6C,aAAe,WACnB,OAAOxE,KAAK6C,KAAK,2BAA2B4B,WAC7C,EACA/C,EAAEC,GAAG+C,kBAAoB,WACxB,OAAO1E,KAAK6C,KAAK,2BAA2B8B,gBAC7C,EAKAjD,EAAEC,GAAGiD,WAAa,SAASC,EAAQC,EAAWC,GAC7C,MAAM1B,EAAO,OAASwB,EAAOrE,QAAQ,SAAU,KA0B/C,OAxBAR,KAAK8D,MAAK,SAASC,EAAKC,GACvB,MAAMgB,EAAOtD,EAAEsC,GAEf,IAAKgB,EAAK1B,KAAKD,GAAO,CACrB,MAAM4B,EAAO,GACbD,EAAK1B,KAAKD,EAAM4B,GAEhBD,EAAKE,GAAGL,GAAQ,WACf,IAAI,IAAI9D,KAAKkE,EAAM,CAElB,IADQA,EAAKlE,GAAGoE,KAAK9C,MAAMrC,KAAMgC,WACzB,OAAO,CAChB,CACA,OAAO,CACR,GACD,CACA,MAAMiD,EAAOD,EAAK1B,KAAKD,GACvB4B,EAAKG,KAAK,CACTC,SAAUP,EACVK,KAAOJ,IAERC,EAAK1B,KAAKD,EAAM4B,EAAKK,MAAK,SAASC,EAAEC,GACpC,OAAOD,EAAEF,SAAWG,EAAEH,QACvB,IACD,IACOrF,IACR,EAEA0B,EAAEC,GAAG8D,cAAgB,SAASpC,EAAMqC,GACnC,MAAM5E,EAAM6E,OAAOC,MAAMvC,EAAM,CAAEwC,cAAeH,IAC1CI,EAAMhE,MAAMC,KAAKC,WACvB8D,EAAI7D,QAAQnB,GACZY,EAAEC,GAAGoE,QAAQ1D,MAAMrC,KAAM8F,EAC1B,EAKApE,EAAEC,GAAGqE,aAAe,SAASC,GAI5B,SAASC,EAAiB7C,EAAM8C,EAAKC,GACpC,MAAMtF,EAAOY,EAAEkE,MAAMvC,GAYrB,OAXAvC,EAAEuF,OAAWF,EAAIE,OACjBvF,EAAEwF,QAAWH,EAAIG,QACjBxF,EAAEyF,QAAWJ,EAAII,QACjBzF,EAAE0F,SAAWL,EAAIK,SACjB1F,EAAE2F,QAAWL,EAAMK,QACnB3F,EAAE4F,QAAWN,EAAMM,QACnB5F,EAAE6F,QAAWP,EAAMO,QACnB7F,EAAE8F,QAAWR,EAAMQ,QACnB9F,EAAE+F,MAAWT,EAAMS,MACnB/F,EAAEgG,MAAWV,EAAMU,MACnBhG,EAAEiG,MAAW,EACNjG,CACR,CAGA,SAASkG,EAAiBhD,GAEzB,IADA,IAAIiD,EAAO,GACLjD,IACLiD,EAAI7B,KAAMpB,GACNA,GAAOgB,OACXhB,EAAMA,EAAIkD,WAEX,OAAOD,CACR,CA5BKhB,IAAKA,EAAI,CAAC,GAwGfjG,KAAK8D,MAAM,SAASC,EAAKC,IA1EzB,SAA8BA,GAC7B,IAAImD,EACAC,EACAC,EACAC,EAGJtD,EAAIuD,iBAAiB,cAAc,SAASpB,GAC3CgB,EAAOhB,EAAIqB,OACXF,EAAanB,EAAIsB,QAAQ,GACzB,MAAM3G,EAAIoF,EAAiB,YAAaC,EAAKA,EAAIsB,QAAQ,IACzD/F,EAAGyF,GAAOpB,QAAQjF,GAGlBsG,GAAQ,EACRC,EAAQK,YAAW,WAClBL,GAAQ,EACRD,GAAQ,CACT,GAAGlF,GAAGyF,aACP,GAAG,CAAEC,SAAS,IAGd5D,EAAIuD,iBAAiB,YAAY,SAASpB,GACrCkB,GAAOQ,aAAaR,GACxBA,GAAQ,EACR,MAAMvG,EAAIoF,EAAiB,UAAWC,EAAKA,EAAI2B,eAAe,IAC9DpG,EAAGyE,EAAIqB,QAASzB,QAAQjF,EACzB,IAGAkD,EAAIuD,iBAAiB,aAAa,SAASpB,GAE1C,IAAKiB,EAGJ,OAFIC,GAAOQ,aAAaR,QACxBA,GAAQ,GAIT,MAAMjB,EAAQD,EAAI2B,eAAe,GAC3B9D,EAAQ+D,SAASC,iBAAiB5B,EAAMK,QAASL,EAAMM,SACvDuB,EAAQjB,EAAiBhD,GAEzBlD,EAAIoF,EAAiB,YAAaC,EAAKC,GAI7C,GAHA1E,EAAEuG,GAAOlC,QAAQjF,GAEbqF,EAAI+B,YAAY/B,EAAIgC,kBACnBlC,EAAImC,OAASpE,GAAOmD,EAAM,OAK/B,MAAMiB,EAAQpB,EAAiBG,GAG/B,KAAMiB,EAAM/G,QAAU4G,EAAM5G,QACtB+G,EAAMA,EAAM/G,OAAQ,IAAM4G,EAAMA,EAAM5G,OAAQ,IACnD+G,EAAMC,MACNJ,EAAMI,MAGP,MAAMC,EAAUpC,EAAiB,aAAcC,EAAKC,GAC9CmC,EAAUrC,EAAiB,WAAcC,EAAKC,GAC9CoC,EAAUtC,EAAiB,aAAcC,EAAKC,GAC9CqC,EAAUvC,EAAiB,YAAcC,EAAKC,GACpD1E,EAAE0G,GAAOrC,QAASuC,GAClB5G,EAAEyF,GAAOpB,QAASwC,GAClB7G,EAAEuG,GAAOlC,QAASyC,GAClB9G,EAAEsC,GAAO+B,QAAS0C,GAGlBtB,EAAKnD,CACN,GAAG,CAAC4D,SAAS,GACd,CAGCc,CAAqB1E,EACtB,GACD,EAOAtC,EAAEiH,MAAMC,QAAQC,SAAW,CAC1BC,MAAO,WACN,IAAI1B,EACA2B,EACJ/I,KAAKuH,iBAAiB,SAAS,SAASpB,GACvC,GAAIiB,EAAM,CAET,GADAA,GAAO,EACH2B,EAAO,OACX,OAAOrH,EAAEyE,EAAIqB,QAAQzB,QAAQ,WAC9B,CACAqB,GAAQ,EACR2B,GAAQ,EACRrB,YAAY,WAAYN,GAAO,CAAO,GAAGlF,GAAG8G,cAC7C,GAAG,CAAEpB,SAAS,IAEd5H,KAAKuH,iBAAiB,cAAc,WACnCwB,GAAQ,CACT,GAAG,CAAEnB,SAAS,GACf,UCnQD,MAAMqB,cACLC,YAAYC,GACXnJ,KAAKoJ,GAASC,aACdrJ,KAAKsJ,OAASzJ,OAAOsJ,GAAQ,IAC9B,CAEAI,IAAIC,EAAKlF,GACRtE,KAAKoJ,GAAGpJ,KAAKsJ,OAASE,GAAOlF,CAC9B,CACAmF,IAAID,GACH,OAAOxJ,KAAKoJ,GAAGpJ,KAAKsJ,OAASE,EAC9B,CACAE,OAAOF,GACN,MAAMzI,EAAI4I,SAAS3J,KAAKoJ,GAAGpJ,KAAKsJ,OAASE,IACzC,OAAOI,MAAM7I,GAAK,EAAIA,CACvB,CACA8I,QAAQL,GACP,YAAuCjJ,IAA/BP,KAAKoJ,GAAGpJ,KAAKsJ,OAASE,EAC/B,CACAM,OAAON,GACNxJ,KAAKoJ,GAAGW,WAAW/J,KAAKsJ,OAASE,EAClC,CACAQ,MAAQ,WACP,MAAMZ,EAAMpJ,KAAKoJ,GACXa,EAAMjK,KAAKsJ,OACXY,EAAMD,EAAG5I,OAET4F,EAAM,GACZ,IAAI,IAAIjG,EAAE,EAAGA,EAAEoI,EAAG/H,OAAQL,IAAK,CAC9B,MAAMmJ,EAAIf,EAAGI,IAAIxI,GACbmJ,EAAEC,OAAO,EAAEF,KAASD,GAAIhD,EAAI7B,KAAK+E,EACtC,CAEA,IAAI,IAAIA,KAAKlD,SACLmC,EAAGnC,EAAIkD,GAEhB,ECrCDzI,EAAEC,GAAG0I,aAAe,SAASpE,EAAM,CAAC,GACnC,MAAMjB,EAAOhF,KACb,GAAa,SAARiG,EAAiB,OAAOjG,KAAKsK,mBAClC,GAAa,UAARrE,EAAkB,OAAOjG,KAAKuK,oBAKtB7I,EAAE8I,QAAf,MACMC,EAAU/I,EAAE,YAAYgJ,SAAS,aAAaC,KAAK,YAAa,GAChEC,EAAQ3E,EAAI4E,UAAa,IACzBC,EAAQ7E,EAAI8E,WAAa,IAC/B,IAAMC,EAAQ/E,EAAI+E,OAAa,IAC3BA,EAAM,IAAGA,EAAM,QACnBP,EAAQQ,IAAI,CACXD,MAAQA,EACRH,SAAUD,EACVG,UAAWD,IAER7E,EAAIiF,UAAaT,EAAQQ,IAAI,YAAchF,EAAIiF,UAC/CjF,EAAIkF,WAAaV,EAAQQ,IAAI,aAAchF,EAAIkF,WAC/ClF,EAAImF,aAAaX,EAAQC,SAAUzE,EAAImF,aAE3C,MAAM9H,EAAOtD,KAAKqL,aAAa,SAAU,IAAKpF,IAK9C3C,EAAKmH,QAAUA,EACfnH,EAAKwH,MAAUA,EAKf,MAAMQ,EAAS5J,EAAE,SAASgJ,SAAS,uCAC7Ba,EAAS7J,EAAE,UAAUgJ,SAAS,mBAClCc,KAAMvF,EAAIwF,OAASzL,KAAK2K,KAAK,UAAY,UAK3C,GAJAW,EAAOjH,OAAQkH,GACfd,EAAQpG,OAAQiH,GAGZrF,EAAIyF,OACPjB,EAAQvF,GAAG,UAAU,SAASiB,GAAM,OAAO,CAAO,QAC5C,CACN,MAAMwF,EAASjK,EAAE,YAAYgJ,SAAS,aAAaC,KAAK,CACtDc,MAAO,QACPG,UAAW,IAEbD,EAAOtH,OAAQ3C,EAAE,UAAUgJ,SAAS,+BACpCY,EAAOjH,OAAQsH,GACfA,EAAOzG,GAAG,SAAS,WACde,EAAI4F,MAAM5F,EAAI4F,OAClB7G,EAAKuF,mBACN,IAEAE,EAAQvF,GAAG,WAAW,SAASiB,GACf,UAAXA,EAAIqD,KAAiBmC,EAAOG,OACjC,GACD,CAiBA,GAhBAxI,EAAKyI,QAAUT,EAMfhI,EAAK0I,SAAWhM,KAAKiM,SACrB3I,EAAK4I,QAAWlM,KAAKiL,IAAI,WAEzBjL,KAAK0K,SAAS,qBACdD,EAAQpG,OAAQrE,MAChBA,KAAKoC,OAKD6D,EAAIkG,QAAS,CAChB,MAAMC,EAAU1K,EAAE,SAASgJ,SAAS,wBAC9B2B,EAAU3K,EAAE,SAASgJ,SAAS,uBAC9B4B,EAAOrG,EAAIkG,QACXI,EAAQ,GACd,IAAI,IAAIvL,KAAKsL,EAAM,CAClB,IAAIE,EAAO9K,EAAE,YACVgJ,SAAS,aACTC,KAAK,OAAQ,UACb8B,KAAMzL,GACTwL,EAAKtH,GAAG,QAASoH,EAAKtL,IACtBqL,EAAQhI,OAAOmI,GACfD,EAAMnH,KAAKoH,EACZ,CACAJ,EAAQ/H,OAAQgI,GAChB5B,EAAQpG,OAAQ+H,GAChB9I,EAAK8I,QAAUA,CAChB,CAKA,OAAInG,IAAQA,EAAIyG,UAAY,aAAczG,EAAYjG,KAE/CA,KAAKsK,kBACb,EAEA5I,EAAEC,GAAG2I,iBAAmB,WACvB,MAAMhH,EAAUtD,KAAKqL,aAAa,UAC5BZ,EAAUnH,EAAKmH,QACrB,IAAKA,EAAS,KAAK,sBAEfnH,EAAKqJ,MACRlC,EAAQmC,mBAERlL,EAAE,QAAQ2C,OAAOoG,GACjBA,EAAQ,GAAGrI,OACXqI,EAAQoC,SAIT,MAAMC,EAAOpL,EAAE8I,QACTuC,EAAOzJ,EAAKyI,QAAQiB,eAAiB1J,EAAK8I,QAAU9I,EAAK8I,QAAQY,cAAgB,GACvFhN,KAAKiL,IAAI,aAAe3H,EAAKwH,MAAWiC,EAAM,MAC9C/M,KAAKiL,IAAI,aAAe6B,EAAKG,SAAWF,EAAM,MAE9C,MAAMhM,EAAI+L,EAAKI,cAAgBJ,EAAK9B,QAAWP,EAAQ0C,cAAe,EAChEC,EAAIN,EAAKO,aAAgBP,EAAKG,SAAWxC,EAAQuC,eAAe,EAWtE,OAVAvC,EAAQQ,IAAI,CACXqC,KAAMvM,EACNwM,IAAKH,IAEN3C,EAAQ+C,gBAAgB,CACvBC,OAAQ,wBAGLnK,EAAKoK,MAAMpK,EAAKoK,KAAM,KAAM1N,MAEzBA,IACR,EAEA0B,EAAEC,GAAG4I,kBAAoB,WACxB,MAAMjH,EAAUtD,KAAKqL,aAAa,UAC5BZ,EAAUnH,EAAKmH,QACrB,IAAKA,EAAS,KAAK,uBAmBnB,OAjBInH,EAAKqK,aAAarK,EAAKqK,YAAYC,KAAM,KAAM5N,MAE/CsD,EAAKqJ,MACRlC,EAAQoD,oBAERpD,EAAQ,GAAGqD,QACXrD,EAAQsD,UAETzK,EAAKmH,QAAS,KAEVnH,EAAK0I,UAAY1I,EAAK0I,SAAS3K,SAClCrB,KAAKiL,IAAI,UAAW3H,EAAK4I,SACzB5I,EAAK0I,SAAS3H,OAAQrE,OAGnBsD,EAAKwK,OAAOxK,EAAKwK,MAAMF,KAAM,KAAM5N,MAEhCA,IACR,EAKA0B,EAAEsM,kBAAoB,WACrB,MAAMC,EAAWvM,EAAE,YAAYgJ,SAAS,cAAcC,KAAK,YAAa,GAMxE,OALAsD,EAASrB,kBACTqB,EAASH,MAAQ,WAEhB,OADA9N,KAAK6N,mBACE7N,IACR,EACOiO,CACR,EAEAvM,EAAEC,GAAGiL,gBAAkB,WACtB,MAAMsB,EAAQlO,KAAKqL,aAAa,cAAe,IAW/C,OAVA3J,EAAE,QAAQyM,WAAWrK,MAAK,CAACC,EAAIC,KAC1BA,EAAIkK,QACRA,EAAM9I,KAAKpB,GACXA,EAAIkK,OAAQ,EAAI,IAEjBlO,KAAK2K,KAAK,UAAW,UACrBjJ,EAAE,QAAQ2C,OAAOrE,MACjBA,KAAK,GAAGoO,cACRpO,KAAK6M,QAEE7M,IACR,EAEA0B,EAAEC,GAAGkM,iBAAmB,WACvB,MAAMK,EAAQlO,KAAKqL,aAAa,eAChC,IAAI,MAAMrH,KAAOkK,EAChBlK,EAAIkK,OAAQ,EAEblO,KAAK,GAAG8N,QACR9N,KAAK+N,QACN,EAKArM,EAAEC,GAAG0M,kBAAoB,SAASpI,GACjC,MAAM3C,EAAQtD,KAAKqL,aAAa,YAChC,GAAY,UAARpF,EAAiB,OAAO3C,EAAKgL,MAKjC,IAAIC,EAHAtI,EAAIuI,SAAUlL,EAAKkL,OAAWvI,EAAIuI,QAClCvI,EAAIwI,WAAUnL,EAAKmL,SAAWxI,EAAIwI,UAGhC,WAAYnL,IACjBtD,KAAK6C,KAAK,yBAAyBiH,SAEnCxG,EAAKoL,OAAShN,EAAE,SAASgJ,SAAS,wBAClC1K,KAAK0K,SAAS,kBACd1K,KAAKqE,OAAQf,EAAKoL,QAClBH,GAAO,GAIR,MAAMI,EAAQrL,EAAKgL,MACbA,EAAQrI,EAAIqI,MAMlB,OALAhL,EAAKgL,MAASA,EACdhL,EAAKoL,OAAOzD,IAAI,QAASqD,EAAQ,MAE7BC,GAAQjL,EAAKkL,QAAUG,GAAOL,IAAOhL,EAAKkL,OAASlL,EAAKgL,OAClDhL,EAAKmL,UAAY,KAAOH,GAAOhL,EAAKmL,SAASnL,EAAKgL,OACrDtO,IACR,EAKA0B,EAAEC,GAAGiN,gBAAkB,SAAS3I,GAC/B,MAAM4I,EAAQ7O,KAAKmO,SAAS,qBAC5BU,EAAM/C,OAAM,SAAS3F,GACpB,MACM2I,EADOpN,EAAEyE,EAAIqB,QACDuH,KAAK,OAClBD,EAAKzN,QACVyN,EAAKtM,aACN,IACAqM,EAAME,KAAK,OAAOxM,MACnB,EAKAb,EAAEC,GAAG6L,gBAAkB,SAASvH,GAC/B,IAAI+I,EACAC,EACAC,EA2BJ,SAASC,EAAKhJ,GACb,MAAMpF,EAAIiO,EAAK7I,EAAIU,MACbuG,EAAI6B,EAAK9I,EAAIW,MACnBoI,EAAKjE,IAAI,CACRmE,SAAU,WACV9B,KAAOvM,EAAI,KACXwM,IAAMH,EAAI,OAEXjH,EAAIgC,gBACL,CAnCAnI,KAAK0K,SAAS,iBAEd1K,KAAKkF,GAAG,aAAa,SAASiB,GAC7BzE,EAAE,UAAUuJ,IAAI,iBAAkB,QAClC,MAAMoE,EAAO3N,EAAEyE,EAAIqB,QAGnB,GAFA0H,EAAOG,EAAKC,SAAS,iBAAmBD,EAAOA,EAAKnM,WAAW,kBAE3D+C,EAAK,CACR,MAAMsJ,EAAKF,EAEX,GADIA,GAAQH,GAAMK,EAAG3M,IAAIyM,EAAKG,aAAa,mBACvCvJ,EAAIzC,QAAW+L,EAAG5M,OAAOsD,EAAIzC,QAAQnC,OAAQ,OACjD,GAAI4E,EAAIwH,SAAW8B,EAAG5M,OAAOsD,EAAIwH,QAAQpM,OAAQ,MAClD,CACA,MAAMoO,EAAIP,EAAKQ,SACfV,EAAKS,EAAEnC,KAAOnH,EAAIU,MAClBoI,EAAKQ,EAAElC,IAAOpH,EAAIW,MAClBiB,SAASR,iBAAiB,YAAa4H,GACvChJ,EAAIgC,gBACL,IAEAnI,KAAKkF,GAAG,WAAW,SAASiB,GAC3BzE,EAAE,UAAUuJ,IAAI,iBAAkB,QAClClD,SAAS4H,oBAAoB,YAAaR,GAC1ChJ,EAAIgC,gBACL,GAYD,EAKAzG,EAAEC,GAAG0J,aAAe,SAAShI,EAAMiB,GAClCjB,EAAO,OAASA,EACM,GAAlBrB,UAAUX,SAAWrB,KAAKqD,GAAQiB,GAEtC,OADatE,KAAKqD,KAAU,CAAC,CAE9B,EAKA3B,EAAEkO,qBAAuB,SAASf,EAAOgB,GACxC,MAAMC,EAAQ,GACRC,EAAQrO,EAAE,QAEhB,IAAI,IAAIyI,KAAK0E,EACNkB,EAAMlN,KAAKgM,EAAM1E,IAAI9I,SAC3ByO,EAAK1K,KAAKyJ,EAAM1E,IACZ0F,GAAUA,EAAShB,EAAM1E,KAE9B,OAAO2F,CACR,SC1TA,MAAM5N,GAAK,CACV8N,SAAW,MACX7N,iBAAkB,IAClBwF,aAAe,IACfqB,cAAgB,IAChBiH,eAAiB,IACjBC,aAAgB,GAChBC,aAAgB,GAEhBC,MAAQ1O,EAAE,QACVqO,MAAQrO,EAAE,SAMXQ,GAAGmO,IAAM,SAAS7G,EAAK8G,GACTtQ,KAAKuQ,KAAlB,MACMF,EAAOrQ,KAAKuQ,KAAK/G,GACvB,YAAgBjJ,IAAR8P,EAAsBC,GAAY9G,EAAIgH,cAAiBH,CAChE,EAEAnO,GAAGuO,QAAU,SAASC,EAAKL,GAC1B,MAAME,EAAOvQ,KAAKuQ,OAAS,CAAC,EAET,iBAAT,EAIVvQ,KAAKuQ,KAAO,IAAKA,KAASG,GAHzBH,EAAKG,GAAOL,CAId,EC/BAnO,GAAGyO,OAAS,SAAS7B,EAAM7I,EAAM,CAAC,GAKjC,IAAKA,EAAI4J,SAAU,CAClB,MAAM7K,EAAKhF,KACX,OAAO,IAAI4Q,SAAS,CAACC,EAASC,KAC7B9L,EAAK2L,OAAO7B,EAAM,IACd7I,EACH4J,SAAUgB,GACT,GAEJ,CAKA,MAAME,EAAK9K,EAAI8K,IAAM/Q,KAAKqQ,IAAI,MACxBW,EAAK,CAAC,EACZA,EAAID,GAAM,WACTjC,EAAKzE,aAAa,SACdpE,EAAI4J,UAAU5J,EAAI4J,SAAiC,SAAvBf,EAAKmC,KAAK,YAAsBnC,EAAKvL,gBACtE,EACI0C,EAAIiL,YACPF,EAAK/K,EAAIzC,QAAUxD,KAAKqQ,IAAI,WAAc,WACzCvB,EAAKzE,aAAa,SACdpE,EAAI4J,UAAU5J,EAAI4J,UAAS,EAChC,GAID,MAAMsB,EAAU,SAAShL,GACxB,OAAkB,KAAdA,EAAIY,QACRiK,EAAID,MACG,EACR,EACAjC,EAAK5J,GAAG,WAAY,QAASiM,GAE7BrC,EAAKzE,aAAa,CACjBqB,OAAQzF,EAAIyF,OACZiB,OAAO,EACPlB,MAAOxF,EAAIwF,MACXL,YAAanF,EAAImL,MACjBjF,QAAS6E,EACTtD,KAAM,WACL,MAAM2D,EAAMvC,EAAKwC,SAAS,yBACR,OAAdrL,EAAI4G,OAAoBwE,EAAIxO,KAAK,gBAAgBgK,QACnC,WAAd5G,EAAI4G,OAAoBwE,EAAIxO,KAAK,gBAAgBgK,OACtD,EACAhB,KAAM,WACD5F,EAAI4J,UAAU5J,EAAI4J,UAAS,EAChC,EACAlC,YAAa,WACZmB,EAAKyC,IAAI,WAAY,QAASJ,EAC/B,EACAtG,SAAW5E,EAAI4E,UAAaiE,EAAKxL,KAAK,aACtCyH,UAAW9E,EAAI8E,WAAa+D,EAAKxL,KAAK,cACtC0H,MAAW/E,EAAI+E,OAAa8D,EAAKxL,KAAK,UAExC,EAKApB,GAAGsP,YAAc,SAASvL,EAAKoK,EAAKoB,EAAM5B,GAKzC,IAAIf,EA0BJ,OA9BKe,GAA6B,mBAAX,IACtBA,EAAW4B,EAAMA,EAAO,MAIrBpB,aAAe3O,EAClBoN,EAAOuB,GAGHA,aAAeqB,SAClBzL,EAAM,IAAIA,KAAQoK,GAClBA,EAAMA,EAAI7E,MAGP6E,GAAyB,MAAlBA,EAAIjG,OAAO,EAAE,GACvB0E,EAAO6C,QAAQtB,IAGfvB,EAAOpN,EAAE,SACL+P,IAEHpB,GADAA,EAAMA,EAAI7P,QAAQ,gBAAgB,SAASoR,EAAEC,GAAK,OAAOJ,EAAKI,EAAI,KACxDrR,QAAQ,aAAc,KAEjCsO,EAAKtD,KAAM6E,KAGbpK,EAAIwF,QAAUqD,GAAQA,EAAKxL,KAAK,UAAYtD,KAAKqQ,IAAI,WAEjDR,IAAU5J,EAAI4J,SAASA,GAEpB7P,KAAK2Q,OAAO7B,EAAM7I,EAC1B,EAKA/D,GAAG4P,YAAc,SAASzB,EAAKoB,EAAM5B,EAAU5J,EAAM,CAAC,GACrD,OAAOjG,KAAKwR,YAAYvL,EAAKoK,EAAKoB,EAAM5B,EACzC,EAEA3N,GAAG6P,WAAa,SAAS1B,EAAKoB,EAAM5B,EAAU5J,GAC7C,OAAOjG,KAAKwR,YAAY,CACtBJ,MAAO,eACP3F,MAAOzL,KAAKqQ,IAAI,YACbpK,GAEJoK,EAAKoB,EAAM5B,EACb,EAEA3N,GAAG8P,QAAU,SAAS3B,EAAKoB,EAAM5B,EAAU5J,GACzC,OAAOjG,KAAKwR,YAAY,CACvBN,WAAW,EACXzF,MAAQzL,KAAKqQ,IAAI,cACdpK,GAEJoK,EAAKoB,EAAM5B,EACb,EAKA3N,GAAG+P,YAAc,SAASxG,EAAOyG,EAAKrC,GAErC,IAAIsC,EAEJ,GAAID,aAAexQ,EAClByQ,EAAQD,MAEF,CACNC,EAAQzQ,EAAE,UACLI,MAAMsQ,QAAQF,KAAMA,EAAM,CAAEA,IAEjC,IAAI,MAAMnR,KAAKmR,EAAK,CACnB,GAAkB,iBAAR,EAAkB,CAC3BC,EAAM9N,OAAQ3C,EAAE,SAAS8J,KAAKzK,IAC9B,QACD,CACA,GAAc,KAAVA,EAAEmD,KAAa,CAClBiO,EAAM9N,OAAQ3C,EAAE,OAAO8J,KAAMzK,EAAEyK,OAC/B,QACD,CACA,GAAc,YAAVzK,EAAEmD,KAAoB,CACzB,MAAMmO,EAAM3Q,EAAE,cAAciJ,KAAK,CAChC2H,KAAMvR,EAAEuR,MAAQ,EAChBjP,KAAMtC,EAAEsC,OACNqH,SAAS,SACC,IAAT3J,EAAEuD,KAAW+N,EAAI5F,KAAM1L,EAAEuD,KAC7B6N,EAAM9N,OAAQgO,GACd,QACD,CACA,GAAc,KAAVtR,EAAEmD,KAAa,CAClBiO,EAAM9N,OAAQtD,EAAEyK,MAChB,QACD,CAEA,MAAM+G,EAAQ7Q,EAAE,SACZ,WAAYX,GAAGwR,EAAMlO,OAAOtD,EAAEyR,QAElCD,EAAMlO,OAAO3C,EAAE,WAAWiJ,KAAK,CAC7BzG,KAAMnD,EAAEmD,MAAQ,OAChBb,KAAMtC,EAAEsC,KACRiL,MAAOvN,EAAEuN,QACP5D,SAAU3J,EAAEqQ,OAAS,SAErBrQ,EAAE0R,QAAQF,EAAM7H,SAAS3J,EAAE0R,QAE3B,UAAW1R,GAAGwR,EAAMlO,OAAOtD,EAAE2R,OACjCP,EAAM9N,OAAQkO,EACf,CACD,CAEA,OAAOvS,KAAK2Q,OAAOwB,EAAO,CACzB1G,MAAOA,EACPoE,SAAUA,GAEZ,EClLA3N,GAAGyQ,UAAY,SAAS1M,GACvB,MAAMjB,EAAKhF,KAIX,IAAKiG,EAAI2M,UAAY3M,EAAI4M,sBACxB,OAAO,IAAIjC,SAAS,CAACC,EAASC,KAC7B9L,EAAK2N,UAAU,IACX1M,EACH2M,QAAS/B,EACTgC,sBAAuB/B,GACtB,IAOJ,SAASgC,EAAWC,EAAKC,GACxB,GAAI/M,EAAIgN,QAAYhN,EAAIgN,MAAMF,EAAKC,GAAI,OAEvC,IAAI3C,EAAM,GACV,GAAI2C,EAAG,CAEN,GADIA,EAAE3C,MAAKA,GAAO,MAAQrL,EAAKkO,QAAQF,EAAE3C,IAAI8C,YAAc,QACvDH,EAAEI,KAAM,CACX,MAAMnM,EAAM,GACNnG,EAAIkS,EAAEI,KACNC,EAAIvS,EAAEwS,QAAU5B,OAAO6B,KAAKzS,GAClC,IAAI,IAAIE,KAAKqS,EACC,IAATvS,EAAEuS,EAAErS,KACRiG,EAAI7B,KAAMJ,EAAKkO,QAAQpS,EAAEuS,EAAErS,MAE5BqP,GAAO,iBAAmBpJ,EAAIxF,KAAK,QAAU,MAC9C,CACIuR,EAAEQ,SAAQnD,GAAO,iBAAmB2C,EAAEQ,OAAOhT,QAAQ,MAAO,QAAU,OAC3E,MACC6P,EAAM,MAAQrL,EAAKqL,IAAI,wBAAyB,wBAA0B,OAE3ErL,EAAK+M,WAAW1B,GAAK,WAChBpK,EAAI4M,uBAAuB5M,EAAI4M,sBAAsBE,EAAKC,EAC/D,GACD,CACA,MAAM1P,EAAO2C,EAAI3C,KACjB,OAAO5B,EAAE+R,KAAKxN,EAAIyN,KAAO1O,EAAK2O,QAAU,KAAM,CAC7CC,OAAS,OACTtQ,KAA2B,oBAApBA,EAAK6P,WAAmCzR,EAAEmS,MAAMvQ,GAAQA,EAC/DwQ,aAAa,EACbC,aAAa,EACbC,SAAU,OACVf,MAAQH,EACRF,QAAS,SAASI,GACjB,MAAa,KAATA,EAAEiB,IAAmBnB,EAAW,SAAUE,GAC1CA,EAAEQ,OAAmBV,EAAW,SAAUE,QAC1C/M,EAAI2M,SAAS3M,EAAI2M,QAAQI,GAC9B,EACAvE,SAAUxI,EAAIwI,UAEhB,EC5DAvM,GAAGgS,MAAQ,SAAS/N,GACnB,MAAMnB,EAAQhF,KACRkP,EAAQxN,EAAEyE,EAAIqB,QACpB,IAAM2M,EAAQjF,EAAK5L,KAAK,UAAYtD,KAAKiQ,eAGzC,GAFIkE,EAAM,IAAGA,EAAM,IAEdhO,EAAI7C,KAAKwL,KAAM,CACnB,MAAMsF,EAAS1S,EAAE,SAASgJ,SAAS,eACnC1K,KAAK+P,MAAM1L,OAAQ+P,GAClBjO,EAAI7C,KAAKwL,KAAOsF,CAClB,CAEAlF,EAAKhK,GAAG,aAAciB,EAAI7C,MAAM,SAAS6C,GAAMnB,EAAKqP,WAAWlO,EAAK,IACpE+I,EAAK5L,KAAK,QAASoE,YAAa,WAAe1C,EAAKsP,WAAWnO,EAAK,GAAGgO,GACxE,EAEAjS,GAAGoS,WAAa,SAASnO,GACxB,MAAM+I,EAAOxN,EAAEyE,EAAIqB,QACbsH,EAAO3I,EAAI7C,KAAKwL,KAClBA,EAAKyF,GAAG,eAERpO,EAAI7C,KAAKlB,MAAM+D,EAAI7C,KAAKlB,KAAK+D,EAAK+I,EAAMJ,GAC5CA,EAAK7D,IAAI,OAASjL,KAAKwU,GAAK,EAAKrO,EAAIU,MAAQ7G,KAAKkQ,cAClDpB,EAAK7D,IAAI,MAAwB9E,EAAIW,MAAQ9G,KAAKmQ,cAClDrB,EAAKlN,YACN,EAEAM,GAAGmS,WAAa,SAASlO,GACxB,MAAM+I,EAAOxN,EAAEyE,EAAIqB,QACbsH,EAAO3I,EAAI7C,KAAKwL,KAClBI,EAAK5L,KAAK,WACbuE,aAAcqH,EAAK5L,KAAK,UACxB4L,EAAK5L,KAAK,QAAS,OAEpB4L,EAAKqC,IAAI,YACTzC,EAAKvM,OACD4D,EAAI7C,KAAKf,MAAM4D,EAAI7C,KAAKf,KAAK4D,EAAK+I,EAAMJ,EAC7C,EClCApN,EAAE,kBAAkBiJ,KAAK,MAAO,cAKhCzI,GAAG6N,MAAM7K,GAAG,YAAa,mBAAoB,CAC5C9C,KAAM,SAAS+D,EAAK+I,EAAMJ,GACzB,MAAMrC,EAAOvK,GAAGuS,WAAYvF,EAAK5L,KAAK,SACtCwL,EAAKpE,SAAS,oBACdoE,EAAKtD,KAAMiB,EACZ,IACE,SAAStG,GAAMjE,GAAGgS,MAAM/N,EAAK,IAKhCjE,GAAG6N,MAAM7K,GAAG,QAAS,qBAAqB,SAASiB,GAClDuO,SAASC,KAAOjT,EAAEyE,EAAIqB,QAAQlE,KAAK,OACpC,IAKApB,GAAG6N,MAAM7K,GAAG,QAAS,oCAAoC,SAASiB,GACjE,MAAMqG,EAAO9K,EAAEyE,EAAIqB,QACnB9F,EAAE8K,EAAKlJ,KAAK,WAAWgB,IAAKkI,EAAK7B,KAAK,SACvC,IAKAzI,GAAG6N,MAAM7K,GAAG,WAAY,qDAAqD,SAASiB,GACrF,OAAkB,KAAdA,EAAIY,KAET,IASA7E,GAAG6N,MAAM7K,GAAG,QAAS,sBAAsB,SAASiB,GACnD,MAAM+I,EAAOxN,EAAEyE,EAAIqB,QACb6H,EAAO3N,EAAEwN,EAAK5L,KAAK,WACnB+L,EAAKhO,SAEPgO,EAAK/L,KAAK,YAAc+L,EAAK/L,KAAK,yBACrC+L,EAAK/L,KAAK,uBAAuB,GACjC+L,EAAKnK,GAAG,UAAU,SAASiB,GAC1B,MAAMoF,EAAQ8D,EAAKvM,SAAUuM,EAAK/L,KAAK,WACjCsR,EAAQvF,EAAK/K,MAAM9D,QAAQ,kBAAmB,MACpD+K,EAAMkB,KAAMmI,EACb,KAGDvF,EAAKvD,QACN,IAKA5J,GAAG6N,MAAM7K,GAAG,QAAS,uBAAuB,SAASiB,GACpD,MAAM+I,EAAOxN,EAAEyE,EAAIqB,QACb6H,EAAO3N,EAAEwN,EAAK5L,KAAK,WACpB+L,EAAKhO,QAAsB,IAAZgO,EAAK/K,OACzB+K,EAAK/K,IAAI,IAAIkK,QACd,IAKAtM,GAAG6N,MAAM7K,GAAG,SAAU,oBAAoB,SAASiB,GAClD,MAAM+I,EAASxN,EAAEyE,EAAIqB,QACfA,EAAS0H,EAAK5L,KAAM,UAC1B5B,EAAE8F,GAAQyJ,KAAK,UAAW/B,EAAKqF,GAAG,YACnC,IAKArS,GAAG6N,MAAM7K,GAAG,SAAU,wBAAwB,SAASiB,GACzCzE,EAAEyE,EAAIqB,QACdtE,WAAW,QAAQ6C,QAAQ,SACjC,IAKA7D,GAAG6N,MAAM7K,GAAG,QAAS,yBAAyB,SAASiB,GACtD,MAAM+I,EAAOxN,EAAEyE,EAAIqB,QACbqN,EAAO3F,EAAKlM,QAAQ,MAC1B,GAAI6R,EAAMjS,IAAIsM,GAAMvM,OAAO,6CAA6CtB,OAAQ,OAEnEwT,EAAM5R,OACFJ,KAAK,8CACjBM,QAAQ2I,OACd,IAOA5J,GAAG4S,eAAiB,YAEpB5S,GAAG6N,MAAM7K,GAAG,QAAS,mBAAmB,SAASiB,GAChD,MAAM+I,EAAOxN,EAAEyE,EAAIqB,QAGnB,GAFA0H,EAAK5L,KAAK,UAAW4L,EAAK5K,OAEtB4K,EAAKrM,KAAK,iBAAmBkS,MAAQ,MAAM1T,OAAQ,OAEvD,MAAM2T,EAAOtT,EAAE,YAAYiJ,KAAK,QAASoK,OAAOtI,KAAMvK,GAAGmO,IAAI,UAC7DnB,EAAK7K,OAAQ2Q,GACb9F,EAAKhK,GAAG,UAAU+P,eAAe9O,GAChC,MAAM+O,EAAUxT,EAAEyE,EAAIqB,QAChB2N,EAAUD,EAAQ5Q,MACxB,GAAI6Q,IAASJ,MACZ,OAAOG,EAAQ5R,KAAK,UAAW6R,GAEhC,MAAM7Q,EAAM4Q,EAAQ5R,KAAK,WACzB4R,EAAQ5Q,IAAKA,GAEb,MAAM8Q,EAAU,CAAE/R,KAAM,OAAQiL,MAAOhK,EAAK8M,MAAO8D,EAAQ5R,KAAK,UAE1D7C,GADUyU,EAAQ5R,KAAK,WAAa,IACxB+R,MAAM,gBACpB5U,IACH2U,EAAQ5C,OAAS/R,EAAG,GACpB2U,EAAQ1C,MAASjS,EAAG,IAGrB,MAAMuS,QAAU9Q,GAAG+P,YAAYiD,EAAQ5R,KAAK,SAAU8R,GACtD,GAAIpC,EAAG,CACN,MAAM1O,EAAM0O,EAAE1P,KACd,GAAW,IAAPgB,GAAa4Q,EAAQ5Q,OAASA,EAAK,OAIvC,GADA4Q,EAAQ5Q,IAAKA,GACT4Q,EAAQ5Q,OAASA,EAAK,CACzB,MACMmI,GADSyI,EAAQ5R,KAAK,WAAa,MACrB9C,QAAQ,MAAO8D,GAC7B0Q,EAAOtT,EAAE,YAAYiJ,KAAK,QAASrG,GAAKmI,KAAMA,GACpDyI,EAAQ7Q,OAAQ2Q,GAChBE,EAAQ5Q,IAAKA,EACd,CACA4Q,EAAQ5R,KAAK,UAAWgB,GACxB4Q,EAAQ1G,QACT,CACD,GACD,IAKAtM,GAAG6N,MAAM7K,GAAG,QAAS,iCAAiC,SAASiB,GAC9D,MAAMmP,EAAO5T,EAAEyE,EAAIqB,QAAQ7E,OAAO,SAC5BuM,EAAOoG,EAAIjU,OAASiU,EAAM5T,EAAEyE,EAAIqB,QAAQtE,WAAW,SACzD,GAAIgM,EAAKI,SAAS,gBAAiB,OAEnC,IAAIiG,EAAI,EACJC,EAAKtG,EACT,KAAMsG,EAAGnU,QACRmU,EAAKA,EAAGrO,OACRoO,IAGD,MAAME,EAAUvG,EAAKhM,WAAW,SAASiL,SAAS,SAC5CuH,EAAU,gBAAkBH,EAAM,IAClCI,EAAUF,EAAOnS,KAAK,uBAAyBiS,EACrDE,EAAOnS,KAAK,qBAAsBqS,GAAW,EAAIJ,GAEjDE,EAAO3R,MAAK,SAASC,EAAIC,GACxB,MAAMyR,EAAS/T,EAAEsC,GACjB,IAAM4R,GAAS,EACf,MAAMC,EAAS,GACfJ,EAAOtH,SAAS,MAAMrK,MAAK,SAASgS,EAAG5V,GACtC,MAAM6V,EAAMrU,EAAExB,GACR8V,EAAMD,EAAI5H,SAASuH,GACnBpR,EAAM0R,EAAI5S,WAAW,QAAU4S,EAAI1S,KAAK,QAAU0S,EAAIvJ,OAAOjM,QAAQ,OAAQ,IAAIA,QAAQ,OAAQ,IACjGyV,EAAMC,OAAO5R,GACfsF,MAAMqM,KAAML,GAAQ,GAExBC,EAAMzQ,KAAK,CACVd,IAAKA,EACL2R,IAAKA,EACLF,IAAKA,GAEP,IAEIH,EAAOC,EAAMvQ,MAAK,SAASC,EAAEC,GAAI,OAAOD,EAAE0Q,IAAMzQ,EAAEyQ,GAAK,IAChDJ,EAAMvQ,MAAK,SAASC,EAAEC,GAAI,OAAOD,EAAEjB,MAAMkB,EAAElB,IAAM,EAAIiB,EAAEjB,IAAMkB,EAAElB,GAAK,IAC3EqR,GAASE,EAAMF,UAEnBF,EAAOU,QACP,IAAI,IAAInV,KAAK6U,EAAOJ,EAAOpR,OAAOwR,EAAM7U,GAAG+U,IAC5C,GACD,ICxMA,WACC,MAAM9O,EAAM,GACZ,IAAMmP,EAENlU,GAAGmU,SAAW,SAASlR,EAAME,GAC5B,GAAoB,mBAAV,EAKT,OAJI+Q,IACC/Q,GAAUiR,QAAQC,KAAK,2CAA4ClR,GACvEF,EAAKyI,KAAK5N,KAAMA,KAAK+P,QAEf9I,EAAI7B,KAAK,CACfD,KAAMA,EACNsK,EAAGpK,GAAY,MAKjB4B,EAAI3B,MAAK,SAASC,EAAEC,GACnB,OAAOD,EAAEkK,EAAIjK,EAAEiK,CAChB,IAEA,MAAMP,EAAO/J,GAAcnF,KAAK+P,MAChC,IAAI,IAAI/O,EAAE,EAAGA,EAAEiG,EAAI5F,OAAQL,IAC1BiG,EAAIjG,GAAGmE,KAAKyI,KAAK5N,KAAMkP,GAExBkH,GAAc,CACf,CACA,CA3BD,GAgCAlU,GAAGmU,UAAU,SAASG,GACrB,MAAMxR,EAAKhF,KAEXwW,EAAG9T,MAAM,wBAAwBwC,GAAG,SAAS,SAASiB,GACrD,MAAM+I,EAAQxN,EAAEyE,EAAIqB,QACd2K,EAAQjD,EAAKlM,QAAQ,sBACtBmP,EAAM9Q,SACX8Q,EAAM7O,KAAK,UAAW4L,EAAK5L,KAAK,YAChC6O,EAAM7O,KAAK,QAAW4L,EAAK5L,KAAK,UAChC6O,EAAM7O,KAAK,SAAW4L,GACvB,IAEAsH,EAAG9T,MAAM,sBAAsBkC,WAAW,SAAU,IAAI,SAASuB,GAChE,MAAMgM,EAASzQ,EAAEyE,EAAIqB,QACfA,EAAS2K,EAAM7O,KAAK,UAC1B,IAAImT,EAAM,EACV,GAAIjP,IACHiP,EAAQtE,EAAMrP,SAAU0E,EAAS,YAAanG,QACzCoV,GAAO,OAAO,EAIpB,IAAIzE,EAAUG,EAAM7O,KAAK,WACzB,OAAK0O,IACCG,EAAM7O,KAAK,uBACd6O,EAAM7O,KAAK,sBAAsB,IAC1B,IAIV0B,EAAKwM,YAAY,CAChB/F,MAAQzG,EAAKqL,IAAI,WACjBxD,MAAQsF,EAAM7O,KAAK,SACnB4N,WAAW,GACTc,EAAS,CAAE/Q,EAAGwV,IACf,SAASrP,GACV,GAAKA,EAAL,CAEA,GADE+K,EAAM7O,KAAK,sBAAsB,GAC/B6O,EAAM7O,KAAK,UAAW,OAAO6O,EAAM7O,KAAK,UAAUwI,QAEtDqG,EAAM1M,cAAcU,EAAIN,cAJP,CAKlB,KACO,GACR,GACD,IAKA3D,GAAGmU,UAAU,SAASG,GACrB,MAAMxR,EAAKhF,KAkFXwW,EAAG3T,KAAK,gBAAgB+B,WAAW,SAAU,KAAK,SAASuB,GAC1D,MAAMgM,EAASzQ,EAAEyE,EAAIqB,QACfkP,EAAS,YAnFI,SAASvQ,EAAKgM,GACjCA,EAAMtP,KAAK,UAAU8T,YAAY,SAGjC,MAAMC,EAAOzE,EAAM7O,KAAK,aACxB,IAAMA,EAAOsT,EAAMA,EAAIzE,EAAOhM,GAAO,IAAIvC,SAASuO,EAAM,IAGxD,MAAM0E,EAAK1Q,EAAIN,eAAiBM,EAAIN,cAAciR,UASlD,GARID,GAAmB,WAAbA,EAAGzS,SAAgC,KAAVyS,EAAGxT,MACrCC,EAAKe,OAAOwS,EAAGxT,KAAMwT,EAAGvI,OAGpBsI,GAAQzE,EAAMtP,KAAK,sBAAsBxB,SAC7CiC,EAAO,IAAIyT,gBAAgBzT,KAGvB6O,EAAM7O,KAAK,WAAY,CAC3B,GAAI6O,EAAM7O,KAAK,kBAAmB,OAClC6O,EAAM7O,KAAK,kBAAkB,GAC7B6O,EAAMlB,KAAK,YAAY,EACxB,CAEA,MAAMhD,EAAakE,EAAM7O,KAAK,YAAc5B,EAAEsM,oBACxCgJ,EAAa7E,EAAM7O,KAAK,SACxB2T,EAAa9E,EAAM7O,KAAK,YACH,mBAAjB,GAA6B0T,EAAW7E,GAElDnN,EAAK2N,UAAU,CACde,IAAKvB,EAAMxH,KAAK,UAChBrH,KAAMA,EACNsP,QAAS,SAASI,GACb/E,GAAUA,EAASH,QACvB,MAAM8E,EAAUT,EAAM7O,KAAK,WACrBoQ,EAAMvB,EAAM7O,KAAK,OACvB,MAAwB,mBAAd,EAAiCsP,EAAQI,GAC3B,iBAAd,GAAqC,IAAXJ,EAC5B5N,EAAK8M,YAAYc,GAAS,WAC5Bc,IAAKgB,SAAWhB,EACrB,SAEGA,IAAKgB,SAAWhB,GACrB,EACAT,MAAO,SAASF,EAAKC,GAChB/E,GAAUA,EAASH,QACvB,MAAMmF,EAAQd,EAAM7O,KAAK,SACzB,GAAsB,mBAAZ,EAAwB,OAAO2P,EAAMD,GAE/C,IAAKA,IAAMA,EAAEI,KAAM,OAAO,EAC1B,MAAMtS,EAAIkS,EAAEI,KACZ,IAAI,IAAIjJ,KAAKrJ,EAAG,CACf,GAAS,UAALqJ,EAAe,SAGnB,MAAM1J,EAAM0J,EAAEkL,MAAM,gBACdY,EAAMxV,EAAKA,EAAG,QAAKF,EACzB4J,EAAI1J,EAAKA,EAAG,GAAK0J,EACjB,IACC,IAAIqL,EAAKrD,EAAMtP,KAAK,UAAYsH,EAAG,mBAAqBA,EAAI,MACxD8L,IAAKT,EAAK9T,EAAE8T,EAAGS,EAAI,KACvBT,EAAG9K,SAAS,QACb,CAAE,MAAM5J,GACPwV,QAAQrD,MAAMnS,EACf,CACD,CACA,OAAO,CACR,EACA+R,sBAAuB,WACtB,MAAMhD,EAAWsC,EAAM7O,KAAK,yBAC5B,GAAyB,mBAAf,EAA2B,OAAOuM,GAC7C,EACApB,SAAU,SAASuE,GACQ,mBAAhB,GAA4BiE,EAAU9E,GAC5CA,EAAM7O,KAAK,oBACd6O,EAAM7O,KAAK,kBAAkB,GAC7B6O,EAAMlB,KAAK,YAAY,GAEzB,GAEF,CAI4BiG,CAAY/Q,EAAKgM,EAAO,EAE7CgF,EAAUhF,EAAM7O,KAAK,WAC3B,QAAwB,mBAAd,IACH6T,EAAQhF,EAAOuE,MAEtBA,KACO,EACR,GACD,IAKAxU,GAAGmU,UAAU,SAASG,GACrB,MAAMxR,EAAOhF,KAEbwW,EAAG9T,MAAM,iCAAiCoB,MAAM,SAASC,EAAKC,GAC7D,MAAMkL,EAAOxN,EAAEsC,GACTE,EAAOgL,EAAK,GAAGhL,KAErB,IAAIkT,EAAa,SAARlT,GAAmBgL,EAAKvE,KAAK,MAEtC,GADKyM,IAAIA,EAAK,QAAUlI,EAAKvE,KAAK,UAC7ByM,EAAI,OAET,GAAY,YAARlT,EAOH,OANAgL,EAAKV,QAAQ,SAASrI,GACrB,MAAMoJ,EAAK7N,EAAEyE,EAAIqB,QACjBxC,EAAKqS,QAAQ9N,IAAI6N,EAAI7H,EAAG0B,KAAK,WAAa,EAAI,EAC/C,SACKjM,EAAKqS,QAAQxN,QAAQuN,IACzBlI,EAAK+B,KAAK,UAAmC,GAAxBjM,EAAKqS,QAAQ5N,IAAI2N,KAGxC,GAAY,SAARlT,EAAiB,CACpB,MAAMI,EAAM4K,EAAKvE,KAAK,SAQtB,OAPAuE,EAAKV,QAAQ,SAASrI,GACVzE,EAAEyE,EAAIqB,QACjBxC,EAAKqS,QAAQ9N,IAAI6N,EAAI9S,EACtB,SACKU,EAAKqS,QAAQxN,QAAQuN,IAAO9S,GAAOU,EAAKqS,QAAQ5N,IAAI2N,IACxDlI,EAAK+B,KAAK,UAAW,GAGvB,CACA/B,EAAKV,QAAQ,SAASrI,GACrB,MAAMoJ,EAAK7N,EAAEyE,EAAIqB,QACb+H,EAAGjL,OAASU,EAAKsS,oBACrBtS,EAAKqS,QAAQ9N,IAAI6N,EAAI7H,EAAGjL,MACzB,IACA,MAAMA,EAAMU,EAAKqS,QAAQ5N,IAAI2N,GAC7B,OAAM9S,EACa,UAAfN,EAAII,QACAY,EAAKuS,oBAAqBrI,EAAM5K,GAEjC4K,EAAK5K,IAAKA,QAJjB,CAKD,GACD,IAKApC,GAAGmU,UAAU,SAASG,GACrB,MAAM3H,EAAQ2H,EAAG9T,MAAM,0EAEvB,IAAM6L,EA4CNM,EAAML,QA3CO,SAASrI,GACrB,MAAMqG,EAAO9K,EAAEyE,EAAIqB,QACb6H,EAAO7C,EAAK1J,SAAU0J,EAAKlJ,KAAK,WAEhCY,EAAOsI,EAAK,GAAGtI,KAGrB,GAAY,SAARA,EAAiB,CACpB,GAAIsI,EAAKyE,KAAK,cAAgBzE,EAAKyE,KAAK,WAAY,OACpD,IAAI7J,EAAOoF,EAAKlJ,KAAK,SAGrB,OAFIkJ,EAAK8C,SAAS,eAAclI,GAAMA,QACtCiI,EAAK4B,KAAK,WAAY7J,EAEvB,CAEA,IAAIA,EACJ,GAAY,YAARlD,EACHkD,GAAQoF,EAAKyE,KAAK,aAAezE,EAAKyE,KAAK,gBACrC,GAAY,UAAR/M,GAAyC,OAArBsI,EAAKlJ,KAAK,QAAkB,CAC1D,IAAIgB,EAAMkI,EAAKlI,MACf8C,EAAO9C,EAAIjD,QAAUiD,EAAM,CAC5B,MACC8C,IAAUoF,EAAKlI,MAAQ,IAAI+Q,MAAM,SAIlC,IAAK9G,GAAQ/B,EAAKlJ,KAAK,WAAa8D,EAAM,OAC1CoF,EAAKlJ,KAAK,QAAS8D,GAGnB,MAAMoQ,EAAUhL,EAAK8C,SAAS,cAAgB,aAAgB,YACxD1M,EAAUwE,EAAO,EAAKmH,EAAO,GAAK,EACxCc,EAAKvL,MAAK,SAASC,EAAIC,GACtB,MAAMkL,EAAOxN,EAAEsC,GACfkL,EAAK5L,KAAKkU,GAAUtI,EAAK5L,KAAKkU,IAAY,GAAK5U,GAE/C,MAAM6U,GAAQvI,EAAK5L,KAAK,eAAiB,IAAM4L,EAAK5L,KAAK,cAAgB,IAClEkJ,EAAK8C,SAAS,aAAe,GAAM,GAE1CJ,EAAK+B,KAAK,WAAYwG,EAAK,EAC5B,GACD,IAGAlJ,GAAO,EACPM,EAAML,SACND,GAAO,CACR,IAWA,WACC,SAAS9L,EAAOyM,EAAMX,GACrB,GAAuB,KAAnBW,EAAK,GAAG9K,QAAgB,OAAO,EAGnC,GAAImK,GAA2B,SAAnBW,EAAK,GAAG9K,SAAyC,UAAnB8K,EAAK,GAAG9K,QAAqB,CACtE,MAAMmH,EAAQ7J,EAAE,UAChB6J,EAAMb,SAAS,uBACfwE,EAAKwI,QAAQnM,GAAOb,SAAS,UAC9B,CAEA,MAAMxG,EAA0B,SAAnBgL,EAAK,GAAG9K,SAAsB8K,EAAK,GAAGhL,KACnD,IAAMyT,EAAOzI,EAAK5L,KAAK,UACvB,IAAKqU,EAAK,CAGT,KADAzI,EAAOA,EAAKhM,WAAW,eACb7B,OAAQ,OAClBsW,EAAMzI,EAAK5L,KAAK,SACjB,CACA,MAAMsU,EAAUlW,EAAEiW,GAClB,IAAKC,EAAQvW,OAAQ,OAAO,EAG5B,MAAMwW,EAAU3I,EAAK9L,WAAW,QAAUpD,KAAKqX,QAAU,KAGnDD,EAAKlI,EAAKvE,KAAK,OAASuE,EAAKvE,KAAK,SAAWgN,EACnD,IAAIvQ,EACAmH,GAAQsJ,GAAWA,EAAQhO,QAAQuN,IACtChQ,IAAOyQ,EAAQnO,OAAO0N,GACV,YAARlT,GAA8B,SAARA,GAAiBgL,EAAK+B,KAAK,UAAW7J,IAEhEA,EADkB,YAARlD,GAA8B,SAARA,EACzBgL,EAAK+B,KAAK,cACP1C,GAAgC,QAAxBW,EAAK5L,KAAK,eAElBiL,GAAgC,QAAxBW,EAAK5L,KAAK,cAGrBiL,GAAQqJ,EAAQrD,GAAG,WAAaqD,EAAQrD,GAAG,YAE/CrF,EAAK5L,KAAK,cAAa8D,GAAQA,GAGnC,IAAI+M,EAAQjF,EAAK5L,KAAK,SAItB,QAHc/C,IAAV4T,GAAiC,KAAVA,IAAcA,EAAQnU,KAAKmC,kBAGlD+M,EAAK5L,KAAK,QAAS,CACtB,MAAMwU,EAAS,UAAYV,EAAG5W,QAAQ,WAAY,KAClD,IAAMuX,EAASrW,EAAE,IAAMoW,GAMvB,OALKC,EAAK1W,SACT0W,EAAOrW,EAAE,WAAWiJ,KAAK,KAAMmN,GAC/BpW,EAAE,QAAQ2C,OAAO0T,IAElBA,EAAKtL,KAAMrF,EAAO,GAAKuQ,EAAM,uBACtB,CACR,CAiBA,GAdIvQ,GACH8H,EAAKxE,SAAS,WACdwE,EAAKyH,YAAY,WACbpI,EAAMqJ,EAAQxV,OACRwV,EAAQxV,KAAK+R,GACnB0D,GAASA,EAAQtO,IAAI6N,EAAI,OAG7BlI,EAAKxE,SAAS,WACdwE,EAAKyH,YAAY,WACbpI,EAAMqJ,EAAQrV,OACRqV,EAAQrV,KAAK4R,GACnB0D,GAASA,EAAQtO,IAAI6N,EAAI,MAElB,UAARlT,EAAkB,CACrB,MAAMI,EAAM8C,EAAO8H,EAAK5L,KAAK,YAAc4L,EAAK5L,KAAK,YAC1C/C,MAAP+D,GAAkB4K,EAAK5K,IAAKA,EACjC,CACA,OAAO,CACR,CAEApC,GAAGmU,UAAU,SAASG,GACrB,MAAMxR,EAAOhF,KACPmF,EAAO,SAASgB,GACrB,MAAM+I,EAAOxN,EAAEyE,EAAIqB,QACnB,GAAoB,SAAhB0H,EAAK,GAAGhL,KACX,OAAOzB,EAAOmL,KAAK5I,EAAMkK,GAE1B,MAAM7L,EAAO6L,EAAKvE,KAAK,QACvBjJ,EAAE,yBAA4B2B,EAAO,MAAMS,MAAK,SAASC,EAAKC,GAC5DvB,EAAOmL,KAAK5I,EAAMtD,EAAEsC,GACtB,GACD,EAEAwS,EAAG9T,MAAM,cAAcoB,MAAM,SAASC,EAAIC,GACzC,MAAMkL,EAAOxN,EAAEsC,GACFvB,EAAOmL,KAAK5I,EAAMkK,GAAM,IAEpCA,EAAKhK,GAAkB,SAAflB,EAAII,QAAqB,SAAW,QAASe,EACvD,GACD,GACA,CApGD,GAyGAjD,GAAGmU,UAAS,SAASG,GACpB,MAAMwB,EAAaxB,EAAG9T,MAAM,iBACvBsV,EAAW3W,QAChB2W,EAAWpJ,iBACZ,IAKA1M,GAAGmU,UAAU,SAASG,GACrBA,EAAG9T,MAAM,sBAAsBoB,MAAK,SAASC,EAAIC,GAChD,MAAMiU,EAAOvW,EAAEsC,GACf,GAAIiU,EAAKhH,KAAK,YAAa,OAI3B,MAAMiH,EAASD,EAAKE,OAAM,GAAMlH,KAAK,YAAY,GAAM0F,YAAY,eAAe1L,IAAI,UAAW,QACjGgN,EAAK3U,KAAK,UAAW4U,GAErBD,EAAKG,WAAW,MAChBH,EAAKG,WAAW,QAChBF,EAAOrV,KAAK,6BAA6BiH,SACzCoO,EAAOG,YAAYJ,GAEnB,MAAMK,EAAQJ,EAAOrV,KAAK,UAC1ByV,EAAMxU,MAAK,SAASC,EAAIC,GACvB,MAAMgR,EAAOtT,EAAEsC,GACfgR,EAAK/D,KAAK,WAAY+D,EAAK1R,KAAK,YACjC,IAEA,MAAMiV,EAAW,SAASpS,GACzB,MAAMc,EAAM,GAKZ,GAJAqR,EAAMxU,MAAK,SAASC,EAAIC,GACvB,MAAMgR,EAAOtT,EAAEsC,GACXgR,EAAK/D,KAAK,aAAahK,EAAI7B,KAAK4P,EAAKxJ,OAC1C,IACIvE,EAAI5F,OAAQ,CACf,MAAMmX,EAAO9W,EAAE,YAAYgJ,SAAS,uBAAuBc,KAAMvE,EAAI,IAAMA,EAAI,GAAK,MAAQ,KAC5FgR,EAAKpV,KAAK,wBAAwBiH,SAClCmO,EAAK5T,OAAQmU,EAAKvH,KAAK,YAAY,GACpC,CACD,EACAsH,IACAL,EAAOhT,GAAG,SAAUqT,EACrB,GACD,IAECrW,GAAG6N,MAAM7K,GAAG,oBAAqB,sBAAsB,SAASiB,GAC/D,MAAMsS,EAAS/W,EAAEyE,EAAIuS,eACfR,EAASO,EAAMnV,KAAK,YAAcmV,EAElCE,EAAUT,EAAO5U,KAAK,eACtBsV,EAAUV,EAAO5U,KAAK,iBACtBmH,EAAUmO,EAAUlX,EAAEkX,GAAWlX,EAAE,SAAS4B,KAAK,QAAS4U,EAAO5U,KAAK,UACtEuV,EAAU,CAAC,EA0CjB,OAxCAX,EAAOrV,KAAK,UAAUiB,MAAK,SAASC,EAAIC,GACvC,MAAMgR,EAAOtT,EAAEsC,GACf,GAAIgR,EAAK1F,SAAS,sBAAuB,OAEzC,MAAMhL,EAAO0Q,EAAK1Q,MAElB,GADAuU,EAAQvU,GAAO0Q,EACX4D,EAAS,OAEb,MAAME,EAASpX,EAAE,WAAW8J,KAAMwJ,EAAKxJ,QACzB,KAAVmN,QAA2BpY,IAAXoY,GAAsBG,EAAOpO,SAASiO,GAE1DG,EAAOpB,QACNhW,EAAE,WAAWiJ,KAAK,CACjBzG,KAAM,WACNoK,MAAOhK,IAEP2M,KAAK,UAAW+D,EAAK/D,KAAK,cAC1BvG,SAASsK,EAAK1R,KAAK,gBACrBmH,EAAQpG,OAAQyU,EACjB,IAEA5W,GAAG4P,YAAYrH,GAAS,SAASrD,GAChC,IAAKA,EAAM,OAEX,IAAIoH,EAEJ/D,EAAQ5H,KAAK,SAASiB,MAAK,SAASC,EAAIC,GACvC,MAAM+U,EAAOrX,EAAEsC,GACTM,EAAOyU,EAAKzU,MACZ0Q,EAAO6D,EAAQvU,GACf8C,EAAO2R,EAAK9H,KAAK,YACnB8H,EAAKzJ,SAAS,uBAA0B0F,IAExC5N,GAAQ4N,EAAK/D,KAAK,cAAazC,GAAO,GAC1CwG,EAAK/D,KAAK,WAAY7J,GACvB,IACIoH,GAAQ0J,EAAO1J,QACpB,IAEArI,EAAIgC,kBACG,CACR,ICzeD,WACC,MAAM6Q,EAAM,CAAC,EAEb9W,GAAG+W,YAAc,SAASvF,GACzB,OAAO,IAAI9C,SAAQ,CAACC,EAASC,KAC5B,MAAM/P,EAAEiY,EAAItF,GACZ,GAAI3S,EACH,OAAQ,IAAJA,EAAc8P,SAElB9P,EAAEmE,GAAG,OAAQ2L,GAId,MAAMqI,EAAKF,EAAItF,GACXhS,EAAEqG,SAASoR,cAAc,WAC3BxO,KAAK,MAAS+I,GACdzC,KAAK,SAAS,GAChBiI,EAAGhU,GAAG,QAASiB,IACd6S,EAAItF,GAAO,EACX7C,EAAQ1K,EAAI,IAEbnG,KAAKoQ,MAAM,GAAGgJ,YAAaF,EAAG,GAAI,GAEpC,CACA,CAxBD,GA6BAhX,GAAGgR,QAAU,SAASzG,GACrB,OAAOA,EACLjM,QAAQ,KAAM,QACdA,QAAQ,KAAM,QACdA,QAAQ,KAAM,UACdA,QAAQ,KAAM,SACjB,EACA0B,GAAGuS,WAAa,SAAShI,GACxB,OAAOzM,KAAKkT,QAAQzG,GAAMjM,QAAQ,UAAU,OAC7C,EACA0B,GAAGmX,YAAc,SAAS5M,GACzB,OAAOzM,KAAKkT,QAASzG,EAAKjM,QAAQ,KAAK,SACxC,EACA0B,GAAGoX,UAAY,SAAS7M,GACvB,OAAOA,EACLjM,QAAQ,UAAW,KACnBA,QAAQ,UAAW,KACnBA,QAAQ,QAAS,KACjBA,QAAQ,QAAS,KACjBA,QAAQ,SAAU,KACrB,EACA0B,GAAGqX,cAAgB,SAAS9M,GAC3B,OAAOzM,KAAKsZ,UAAU7M,GAAMjM,QAAQ,SAAS,IAC9C,EAKA0B,GAAGsX,WAAa,SAASnW,EAAMiB,GAC9ByD,SAAS0R,OAASC,mBAAmBrW,GAAQ,IAAMqW,mBAAmBpV,GAAO,cAAgBtE,KAAKgQ,SAAW,GAC9G,EACA9N,GAAGyX,WAAa,SAAStW,GACxB,MAAM4D,EAAMc,SAAS0R,OAAOnY,MAAM,OAClC,IAAI,MAAMsY,KAAK3S,EAAK,CACnB,MAAMlG,EAAI6Y,EAAEtY,MAAM,IAAK,GAEvB,GAAI+B,GADMwW,mBAAoB9Y,EAAE,IAEhC,OAAO8Y,mBAAoB9Y,EAAE,GAC9B,CAED,EAKAmB,GAAG4X,gBAAkB,SAAS5K,GAC7B,MAAM6K,EAAO7K,EAAK1D,OAAOhL,QAAQ,cAAe,IAAIA,QAAQ,aAAc,IAC1E,OAAOwZ,KAAKC,MAAMF,EACnB,EAKA7X,GAAGgY,YAAc,SAAStZ,GACzB,OAAIA,EAAI,aACAuZ,KAAKC,MAAMxZ,EAAE,YAAYyZ,iBAAmB,MAChDzZ,EAAI,YAAqBA,EAAE,YAAa0Z,YAAY,GAAK,MACzD1Z,EAAO,SAAkBA,EAAE,SAAa0Z,YAAY,GAAK,MACzD1Z,EAAW,KAAcA,EAAE,MAAa0Z,YAAY,GAAK,MACtD1Z,EAAI,OACZ,EAKAsB,GAAGqY,IAAM,SAAS3Z,GACjB,MAAMG,EAAI4I,SAAS/I,GACnB,OAAOgJ,MAAM7I,GAAK,EAAIA,CACvB,EACAmB,GAAGsY,MAAQ,SAAS5Z,GACnB,MAAMG,EAAI0Z,WAAW7Z,GACrB,OAAOgJ,MAAM7I,GAAK,EAAIA,CACvB,ECxGA,WACC,MAAM2Z,EAAQhZ,EAAE,cACViZ,EAAQzY,GAAGyY,KAAsB,GAAdD,EAAMrZ,OAAaa,GAAG4X,gBAAgBY,GAAS,CAAC,EAEnEE,EAAQlZ,EAAE,cAChB,GAAkB,GAAdkZ,EAAMvZ,OAAW,CACpB,MAAMiC,EAAOpB,GAAG4X,gBAAgBc,GAChC1Y,GAAGuO,QAAQnN,EACZ,CAGApB,GAAGmV,QAAU,IAAIpO,cAAe0R,EAAKhH,QAAU,KAG/CkH,WAAWF,EAAKtX,MAAQ,QAAQnB,GAGhCA,GAAGmU,UACH,CAlBD,kBCHenU"}