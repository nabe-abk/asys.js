{"version":3,"names":["String","prototype","chop","this","slice","tr","_s1","_s2","expand","str","undefined","replace","ma","$1","$2","s","charCodeAt","e","x","i","c","fromCharCode","s1","s2","length","split","map","indexOf","join","$","secure","sel","match","$obj","document","find","substr","console","error","fn","showDelay","args","Array","from","arguments","unshift","$$","DefaultShowSpeed","show","apply","hideDelay","hide","toggleDelay","toggle","findx","filter","add","rootfind","parents","last","parentsOne","first","existsData","name","data","parseFormHash","cancel","_parseForm","parseFormFD","fdmode","FormData","$cancel","each","idx","dom","disabled","type","checked","tagName","append","val","files","anySerialize","serialize","anySerializeArray","serializeArray","onSequence","_event","_priority","_func","self","list","on","func","push","priority","sort","a","b","triggerWithOE","oe","jQuery","Event","originalEvent","arg","trigger","dndEmulation","opt","make_mouse_event","evt","touch","altKey","metaKey","ctrlKey","shiftKey","clientX","clientY","screenX","screenY","pageX","pageY","which","get_par_elements","ary","parentNode","prev","flag","timer","orig_touch","addEventListener","target","touches","setTimeout","TouchDnDTime","passive","clearTimeout","changedTouches","elementFromPoint","enter","cancelable","preventDefault","leave","pop","e_leave","e_out","e_enter","e_over","regist_dnd_emulation","event","special","mydbltap","setup","mouse","DoubleTapTime","PrefixStorage","constructor","path","ls","localStorage","prefix","set","key","get","getInt","parseInt","isNaN","defined","remove","removeItem","clear","pf","len","k","adiaryDialog","adiaryDialogOpen","adiaryDialogClose","window","$dialog","addClass","attr","min_w","minWidth","min_h","minHeight","width","css","maxWidth","maxHeight","dialogClass","adiaryUIData","$title","$span","html","title","noExit","$close","tabindex","exit","click","$header","$restore","parent","display","buttons","$footer","$btnset","btns","$btns","$btn","text","autoOpen","modal","adiaryShowModal","focus","$win","hf","outerHeight","height","scrollLeft","outerWidth","y","scrollTop","left","top","adiaryDraggable","handle","open","beforeClose","call","adiaryCloseModal","close","detach","adiaryShowOverlay","$overlay","inert","children","showPopover","adiaryProgressbar","value","init","change","complete","$value","old","adiaryAccordion","$objs","$div","next","sx","sy","move","position","$tar","hasClass","$o","parentsUntil","p","offset","removeEventListener","SameSite","PopupDelayTime","PopupOffsetX","PopupOffsetY","$head","$body","msg","_default","msgs","toUpperCase","set_msg","obj","dialog","callback","Promise","resolve","reject","ok","btn","prop","cancelBtn","keyfunc","class","$bp","siblings","off","dialog_base","marg","Object","w","m1","show_dialog","show_error","confirm","form_dialog","ele","$form","isArray","$ta","rows","$item","before","iclass","after","send_ajax","success","error_dialog_callback","ajax_error","err","h","tag_esc","toString","errs","o","_order","keys","_debug","ajax","url","myself","method","param","processData","contentType","dataType","ret","popup","delay","$popup","popup_hide","popup_show","is","SP","tag_esc_br","location","href","file","$pars","js_combo_dummy","dummy","$opt","async","$select","_val","element","$o1","cnt","$x","$tbody","td_nth","reverse","isNum","lines","i2","$tr","$td","num","Number","empty","initialized","dom_init","warn","$R","count","submit","removeClass","gen","sb","submitter","URLSearchParams","start_func","comp_func","submit_func","checker","id","Storage","js_combo_dummy_val","set_value_on_select","counter","diff","prepend","tar","$target","storage","css_id","$css","$accordion","$sel","$multi","clone","removeAttr","insertAfter","$opts","__change","$add","$_obj","currentTarget","lclass","cdialog","val2opt","$label","$inp","inc","load_script","$s","createElement","appendChild","tag_esc_amp","tag_unesc","tag_unesc_amp","set_cookie","cookie","encodeURIComponent","get_cookie","v","decodeURIComponent","parse_json_html","json","JSON","parse","format_size","Math","round","toLocaleString","toPrecision","int","float","parseFloat","$vars","vars","$msgs","globalThis"],"sources":["00_start.js","10_global-ext.js","11_jquery-ext.js","20_PrefixStorage.js","21_adiary-ui.js","30_init.js","40_dialog.js","41_ajax.js","42_popup.js","50_dom.js","60_dom-special.js","70_subroutines.js","90_run_init.js","99_export_default.js"],"sourcesContent":["/*!\n * asys.js (C)nabe@abk\n * https://github.com/nabe-abk/asys.js\n *\n * This module need jQuery.\n */\n'use strict';\n","//##############################################################################\n//extend global\n//##############################################################################\n////////////////////////////////////////////////////////////////////////////////\n// String chop\n////////////////////////////////////////////////////////////////////////////////\nString.prototype.chop = function() {\n\treturn this.slice(0,-1);\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// String tr\n////////////////////////////////////////////////////////////////////////////////\nString.prototype.tr = function(_s1, _s2) {\n\tfunction expand(str) {\n\t\tif (str == undefined) return '';\n\t\treturn str.replace(/(.)\\-(.)/g, function(ma,$1,$2){\n\t\t\tconst s = $1.charCodeAt(0);\n\t\t\tconst e = $2.charCodeAt(0);\n\t\t\tlet x='';\n\t\t\tfor(let i=s,c=0; i<=e && c<5000; i++,c++) {\n\t\t\t\tx += String.fromCharCode(i);\n\t\t\t}\n\t\t\treturn x;\n\t\t});\n\t}\n\tconst s1 = expand(_s1);\n\tconst s2 = expand(_s2);\n\tif (s1.length != s2.length) {\n\t\tthrow('String.tr() not match pattern length');\n\t}\n\n\treturn this.split('').map(function(c) {\n\t\tconst i = s1.indexOf(c);\n\t\tif (i<0) return c;\n\t\treturn s2[i];\n\t}).join('');\n}\n\n","//##############################################################################\n//extend jQuery\n//##############################################################################\n////////////////////////////////////////////////////////////////////////////////\n// secure constructor\n////////////////////////////////////////////////////////////////////////////////\n$.secure = function(sel) {\n\tif (sel.match(/^#[^\\s,\"]+$/)) {\n\t\tconst $obj = $(document).find('[id=\"' + sel.substr(1) + '\"]');\n\t\tif ($obj.length<2) return $obj;\n\n\t\tconsole.error('$.secure() error. \"' + sel + '\" is duplicate.');\n\t\treturn $([]);\n\t}\n\treturn $(document).find(sel);\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// show, hide with delay\n////////////////////////////////////////////////////////////////////////////////\n$.fn.showDelay = function(){\n\tlet args = Array.from(arguments)\n\targs.unshift($$.DefaultShowSpeed);\n\treturn $.fn.show.apply(this, args);\n}\n$.fn.hideDelay = function(){\n\tlet args = Array.from(arguments);\n\targs.unshift($$.DefaultShowSpeed);\n\treturn $.fn.hide.apply(this, args);\n}\n$.fn.toggleDelay = function(){\n\tlet args = Array.from(arguments);\n\targs.unshift($$.DefaultShowSpeed);\n\treturn $.fn.toggle.apply(this, args);\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// find dom element including itself\n////////////////////////////////////////////////////////////////////////////////\n$.fn.findx = function() {\n\treturn $.fn.filter.apply(this, arguments).add( $.fn.find.apply(this, arguments) );\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// extra find function\n////////////////////////////////////////////////////////////////////////////////\n$.fn.rootfind = function(sel) {\n\treturn this.parents().last().find(sel);\n}\n$.fn.parentsOne = function(filter) {\n\treturn this.parents(filter).first();\n}\n$.fn.existsData = function(name) {\n\tconst v = this.data(name);\n\treturn v !== undefined;\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// parse form to hash\n////////////////////////////////////////////////////////////////////////////////\n$.fn.parseFormHash = function(cancel) {\n\treturn this._parseForm(false, cancel);\n}\n$.fn.parseFormFD = function(cancel) {\n\treturn this._parseForm(true,  cancel);\n}\n$.fn._parseForm = function(fdmode, cancel) {\n\tconst data = fdmode ? new FormData : {};\n\tconst $cancel = (cancel instanceof $) ? cancel\n\t\t: (cancel === undefined ? cancel : $(cancel));\n\n\tthis.find('input, select, textarea').each(function(idx, dom){\n\t\tif (dom.disabled) return;\n\t\tif (dom.type == 'checkbox' && !dom.checked) return;\n\t\tif ($cancel && $cancel.find(dom).length) return;\n\n\t\tconst name = dom.name;\n\n\t\t// file\n\t\tif (dom.tagName == 'INPUT' && dom.type == 'file') {\n\t\t\tif (!fdmode) return;\n\t\t\tconst files = dom.files;\n\t\t\tfor(let i=0; i<files.length; i++)\n\t\t\t\tdata.append(name, files[i]);\n\t\t\treturn;\n\t\t}\n\t\tif (name == undefined || name == '') return;\n\t\tif (fdmode)\n\t\t\tdata.append(name, $(dom).val());\n\t\telse\n\t\t\tdata[name] = $(dom).val();\n\t});\n\treturn data;\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// any serialize\n////////////////////////////////////////////////////////////////////////////////\n$.fn.anySerialize = function(){\n\treturn this.find('input, textarea, select').serialize();\n}\n$.fn.anySerializeArray = function(){\n\treturn this.find('input, textarea, select').serializeArray();\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// Function calls sequentially when an event occurs\n////////////////////////////////////////////////////////////////////////////////\n$.fn.onSequence = function(_event, _priority, _func) {\n\tconst name = '_on_' + _event.replace(/[^\\w]/g, '_');\n\n\tthis.each(function(idx, dom) {\n\t\tconst self = $(dom);\n\n\t\tif (!self.data(name)) {\n\t\t\tconst list = [];\n\t\t\tself.data(name, list);\n\n\t\t\tself.on(_event, function(){\n\t\t\t\tfor(var x in list) {\n\t\t\t\t\tvar r = list[x].func.apply(this, arguments);\n\t\t\t\t\tif (!r) return false;\t// false break\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t})\n\t\t}\n\t\tconst list = self.data(name);\n\t\tlist.push({\n\t\t\tpriority:\t_priority,\n\t\t\tfunc:\t\t_func\n\t\t});\n\t\tself.data(name, list.sort(function(a,b){\n\t\t\treturn a.priority - b.priority\n\t\t}));\n\t});\n\treturn this;\n}\n\n$.fn.triggerWithOE = function(name, oe) {\n\tconst e   = jQuery.Event(name, { originalEvent: oe });\n\tconst arg = Array.from(arguments);\n\targ.unshift(e);\n\t$.fn.trigger.apply(this, arg);\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// Drag and Drop emulation by touch event\n////////////////////////////////////////////////////////////////////////////////\n$.fn.dndEmulation = function(opt){\n\tif (!opt) opt={};\n\n\t// make mouse event object from touch event infomation\n\tfunction make_mouse_event(name, evt, touch) {\n\t\tconst e    = $.Event(name);\n\t\te.altKey   = evt.altKey;\n\t\te.metaKey  = evt.metaKey;\n\t\te.ctrlKey  = evt.ctrlKey;\n\t\te.shiftKey = evt.shiftKey;\n\t\te.clientX  = touch.clientX;\n\t\te.clientY  = touch.clientY;\n\t\te.screenX  = touch.screenX;\n\t\te.screenY  = touch.screenY;\n\t\te.pageX    = touch.pageX;\n\t\te.pageY    = touch.pageY;\n\t\te.which    = 1;\n\t\treturn e;\n\t}\n\n\t// get all parents element including yourself.\n\tfunction get_par_elements(dom) {\n\t\tvar ary  = [];\n\t\twhile(dom) {\n\t\t\tary.push( dom );\n\t\t\tif (dom == self) break;\n\t\t\tdom = dom.parentNode;\n\t\t}\n\t\treturn ary;\n\t}\n\n\tfunction regist_dnd_emulation(dom) {\n\t\tlet prev;\n\t\tlet flag;\n\t\tlet timer;\n\t\tlet orig_touch;\n\n\t\t// mousedown\n\t\tdom.addEventListener('touchstart', function(evt) {\n\t\t\tprev = evt.target;\n\t\t\torig_touch = evt.touches[0];\n\t\t\tconst e = make_mouse_event('mousedown', evt, evt.touches[0]);\n\t\t\t$( prev ).trigger(e);\n\n\t\t\t// Disable the process if it does not pass a certain amount of time.\n\t\t\tflag  = false;\n\t\t\ttimer = setTimeout(function(){\n\t\t\t\ttimer = false;\n\t\t\t\tflag  = true;\n\t\t\t}, $$.TouchDnDTime)\n\t\t}, { passive: true });\n\n\t\t// mouseup\n\t\tdom.addEventListener('touchend', function(evt){\n\t\t\tif (timer) clearTimeout(timer);\n\t\t\ttimer = false;\n\t\t\tconst e = make_mouse_event('mouseup', evt, evt.changedTouches[0]);\n\t\t\t$( evt.target ).trigger(e);\n\t\t});\n\n\t\t// drag\n\t\tdom.addEventListener('touchmove', function(evt) {\n\t\t\t// move wait\n\t\t\tif (!flag) {\n\t\t\t\tif (timer) clearTimeout(timer);\n\t\t\t\ttimer = false;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst touch = evt.changedTouches[0];\n\t\t\tconst dom   = document.elementFromPoint(touch.clientX, touch.clientY);\n\t\t\tconst enter = get_par_elements(dom);\n\n\t\t\tconst e = make_mouse_event('mousemove', evt, touch);\n\t\t\t$(enter).trigger(e);\n\n\t\t\tif (evt.cancelable) evt.preventDefault();\n\t\t\tif (!opt.leave || dom == prev) return;\n\n\t\t\t////////////////////////////////////////////////////////\n\t\t\t// leave and enter event emulation\n\t\t\t////////////////////////////////////////////////////////\n\t\t\tconst leave = get_par_elements(prev);\n\n\t\t\t// Remove common elements\n\t\t\twhile(leave.length && enter.length\n\t\t\t   && leave[leave.length -1] == enter[enter.length -1]) {\n\t\t\t\tleave.pop();\n\t\t\t\tenter.pop();\n\t\t\t}\n\n\t\t\tconst e_leave = make_mouse_event('mouseleave', evt, touch);\n\t\t\tconst e_out   = make_mouse_event('mouseout',   evt, touch);\n\t\t\tconst e_enter = make_mouse_event('mouseenter', evt, touch);\n\t\t\tconst e_over  = make_mouse_event('mouseover',  evt, touch);\n\t\t\t$(leave).trigger( e_leave );\n\t\t\t$(prev) .trigger( e_out   );\n\t\t\t$(enter).trigger( e_enter );\n\t\t\t$(dom)  .trigger( e_over  );\n\n\t\t\t// save current dom\n\t\t\tprev=dom;\n\t\t}, {passive: false});\n\t}\n\n\tthis.each( function(idx, dom){\n\t\tregist_dnd_emulation(dom)\n\t});\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// \"dbltap\" event exclusive mouse\n////////////////////////////////////////////////////////////////////////////////\n// Double touch event order: touchstart, click, touchstart, click\n// Mouse double click order: click, click, dblclick\n$.event.special.mydbltap = {\n\tsetup: function(){\n\t\tlet flag;\n\t\tlet mouse;\n\t\tthis.addEventListener('click', function(evt) {\n\t\t\tif (flag) {\n\t\t\t\tflag = false;\n\t\t\t\tif (mouse) return;\n\t\t\t\treturn $(evt.target).trigger('mydbltap');\n\t\t\t}\n\t\t\tflag  = true;\n\t\t\tmouse = true;\n\t\t\tsetTimeout( function(){ flag = false; }, $$.DoubleTapTime);\n\t\t}, { passive: true });\n\n\t\tthis.addEventListener('touchstart', function(){\n\t\t\tmouse = false;\n\t\t}, { passive: true });\n\t}\n}\n","export //##############################################################################\n// Prefix Storage\n//\t\t\t\t\t\t\t(C)2019-2025 nabe@abk\n//##############################################################################\n//\n//impliment methods: set(), get(), remove(), clear()\n//\n/* Add \"export\" by Makefile */\nclass PrefixStorage {\n\tconstructor(path) {\n\t\tthis.ls     = localStorage;\n\t\tthis.prefix = String(path) + '::';\n\t}\n\n\tset(key, val) {\n\t\tthis.ls[this.prefix + key] = val;\n\t}\n\tget(key) {\n\t\treturn this.ls[this.prefix + key];\n\t}\n\tgetInt(key) {\n\t\tconst x = parseInt(this.ls[this.prefix + key]);\n\t\treturn isNaN(x) ? 0 : x;\n\t}\n\tdefined(key) {\n\t\treturn (this.ls[this.prefix + key] !== undefined);\n\t}\n\tremove(key) {\n\t\tthis.ls.removeItem(this.prefix + key);\n\t}\n\tclear = function() {\n\t\tconst ls  = this.ls;\n\t\tconst pf  = this.prefix;\n\t\tconst len = pf.length;\n\n\t\tconst ary = [];\n\t\tfor(let i=0; i<ls.length; i++) {\n\t\t\tconst k = ls.key(i);\n\t\t\tif (k.substr(0,len) === pf) ary.push(k);\n\t\t}\n\t\t// Do not delete in upper loop\n\t\tfor(var k in ary) {\n\t\t\tdelete ls[ary[k]];\n\t\t}\n\t}\n}\n","//##############################################################################\n// adiary UI\n//\t\t\t\t\t\t\t(C)2019-2025 nabe@abk\n//##############################################################################\n////////////////////////////////////////////////////////////////////////////////\n// dialog, use Popover API\n////////////////////////////////////////////////////////////////////////////////\n$.fn.adiaryDialog = function(opt = {}) {\n\tconst self = this;\n\tif ( opt === 'open' )\treturn this.adiaryDialogOpen();\n\tif ( opt === 'close' )\treturn this.adiaryDialogClose();\n\n\t////////////////////////////////////////////////////////////////////////\n\t// init dialog\n\t////////////////////////////////////////////////////////////////////////\n\tconst $win = $(window);\n\tconst $dialog = $('<dialog>').addClass('ui-dialog').attr('tabindex', -1);\n\tconst min_w = opt.minWidth  || 200;\n\tconst min_h = opt.minHeight || 150;\n\tlet   width = opt.width     || 300;\n\tif (width<0) width='auto';\n\t$dialog.css({\n\t\twidth:\t\twidth,\n\t\tminWidth:\tmin_w,\n\t\tminHeight:\tmin_h\n\t});\n\tif (opt.maxWidth)    $dialog.css('max-width',  opt.maxWidth );\n\tif (opt.maxHeight)   $dialog.css('max-height', opt.maxHeight);\n\tif (opt.dialogClass) $dialog.addClass( opt.dialogClass );\n\n\tconst data = this.adiaryUIData('dialog', { ...opt });\n\t// data.open        = opt.open;\n\t// data.close       = opt.close;\n\t// data.beforeClose = opt.beforeClose;\n\t// data.modal       = opt.modal;\n\tdata.$dialog = $dialog;\n\tdata.min_h   = min_h;\n\n\t////////////////////////////////////////////////////////////////////////\n\t// header\n\t////////////////////////////////////////////////////////////////////////\n\tconst $title = $('<div>').addClass('ui-dialog-titlebar ui-widget-header');\n\tconst $span  = $('<span>').addClass('ui-dialog-title')\n\t\t.html( opt.title || this.attr('title') || '&ensp;' );\n\t$title.append( $span );\n\t$dialog.append( $title );\n\n\t// close button\n\tif (opt.noExit) {\n\t\t$dialog.on('cancel', function(evt){ return false; });\n\t} else {\n\t\tconst $close = $('<button>').addClass('ui-button').attr({\n\t\t\t\ttitle: 'Close',\n\t\t\t\ttabindex: -1\n\t\t\t});\n\t\t$close.append( $('<span>').addClass('ui-icon ui-icon-closethick') );\n\t\t$title.append( $close );\n\t\t$close.on('click', function(){\n\t\t\tif (opt.exit) opt.exit();\n\t\t\tself.adiaryDialogClose();\n\t\t});\n\n\t\t$dialog.on('keydown', function(evt){\n\t\t\tif (evt.key == 'Escape') $close.click();\n\t\t});\n\t}\n\tdata.$header = $title;\n\n\n\t////////////////////////////////////////////////////////////////////////\n\t// main\n\t////////////////////////////////////////////////////////////////////////\n\tdata.$restore = this.parent();\n\tdata.display  = this.css('display');\n\n\tthis.addClass('ui-dialog-content');\n\t$dialog.append( this );\n\tthis.show();\n\n\t////////////////////////////////////////////////////////////////////////\n\t// button\n\t////////////////////////////////////////////////////////////////////////\n\tif (opt.buttons) {\n\t\tconst $footer = $('<div>').addClass('ui-dialog-buttonpane');\n\t\tconst $btnset = $('<div>').addClass('ui-dialog-buttonset');\n\t\tconst btns = opt.buttons;\n\t\tconst $btns = [];\n\t\tfor(let i in btns) {\n\t\t\tlet $btn = $('<button>')\n\t\t\t\t\t.addClass('ui-button')\n\t\t\t\t\t.attr('type', 'button')\n\t\t\t\t\t.text( i );\n\t\t\t$btn.on('click', btns[i]);\n\t\t\t$btnset.append($btn);\n\t\t\t$btns.push($btn);\n\t\t}\n\t\t$footer.append( $btnset );\n\t\t$dialog.append( $footer );\n\t\tdata.$footer = $footer;\n\t}\n\n\t////////////////////////////////////////////////////////////////////////\n\t// end\n\t////////////////////////////////////////////////////////////////////////\n\tif (opt && !opt.autoOpen && 'autoOpen' in opt) return this;\n\n\treturn this.adiaryDialogOpen();\n}\n\n$.fn.adiaryDialogOpen = function() {\n\tconst data    = this.adiaryUIData('dialog');\n\tconst $dialog = data.$dialog;\n\tif (!$dialog) throw(\"Do not open dialog!\");\n\n\tif (data.modal) {\n\t\t$dialog.adiaryShowModal();\n\t} else {\n\t\t$('body').append($dialog);\n\t\t$dialog[0].show();\n\t\t$dialog.focus();\n\t}\n\n\t// set css\n\tconst $win = $(window);\n\tconst hf   = data.$header.outerHeight() + (data.$footer ? data.$footer.outerHeight() : 0);\n\tthis.css('min-height', (data.min_h    - hf) + 'px');\n\tthis.css('max-height', ($win.height() - hf) + 'px');\n\n\tconst x = $win.scrollLeft() + ($win.width()  - $dialog.outerWidth() )/2;\n\tconst y = $win.scrollTop()  + ($win.height() - $dialog.outerHeight())/2;\n\t$dialog.css({\n\t\tleft:\tx,\n\t\ttop:\ty\n\t});\n\t$dialog.adiaryDraggable({\n\t\thandle: '.ui-dialog-titlebar'\n\t});\n\n\tif (data.open) data.open( null, this );\n\n\treturn this;\n}\n\n$.fn.adiaryDialogClose = function() {\n\tconst data    = this.adiaryUIData('dialog');\n\tconst $dialog = data.$dialog;\n\tif (!$dialog) throw(\"Do not close dialog!\");\n\n\tif (data.beforeClose) data.beforeClose.call( null, this );\n\n\tif (data.modal) {\n\t\t$dialog.adiaryCloseModal();\n\t} else {\n\t\t$dialog[0].close();\n\t\t$dialog.detach();\n\t}\n\tdata.$dialog =null;\n\n\tif (data.$restore && data.$restore.length) {\n\t\tthis.css('display', data.display);\n\t\tdata.$restore.append( this );\n\t}\n\n\tif (data.close) data.close.call( null, this );\n\n\treturn this;\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// overlay and modal function\n////////////////////////////////////////////////////////////////////////////////\n$.adiaryShowOverlay = function() {\n\tconst $overlay = $('<dialog>').addClass('ui-overlay').attr('tabindex', -1);\n\t$overlay.adiaryShowModal();\n\t$overlay.close = function(){\n\t\tthis.adiaryCloseModal();\n\t\treturn this;\n\t}\n\treturn $overlay;\n}\n\n$.fn.adiaryShowModal = function() {\n\tconst inert = this.adiaryUIData('modal-inert', []);\n\t$('body').children().each((idx,dom) => {\n\t\tif (dom.inert) return;\n\t\tinert.push(dom);\n\t\tdom.inert = true;\n\t});\n\tthis.attr('popover', 'manual');\n\t$('body').append(this);\n\tthis[0].showPopover();\n\tthis.focus();\n\n\treturn this;\n}\n\n$.fn.adiaryCloseModal = function() {\n\tconst inert = this.adiaryUIData('modal-inert');\n\tfor(const dom of inert) {\n\t\tdom.inert = false;\n\t}\n\tthis[0].close();\n\tthis.detach();\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// Progressbar\n////////////////////////////////////////////////////////////////////////////////\n$.fn.adiaryProgressbar = function(opt) {\n\tconst data  = this.adiaryUIData('progress');\n\tif (opt === 'value') return data.value;\n\n\tif (opt.change)   data.change   = opt.change;\n\tif (opt.complete) data.complete = opt.complete;\n\n\tlet init;\n\tif (!('$value' in data)) {\n\t\tthis.find('.ui-progressbar-value').remove();\n\t\t// initalize\n\t\tdata.$value = $('<div>').addClass('ui-progressbar-value');\n\t\tthis.addClass('ui-progressbar');\n\t\tthis.append( data.$value );\n\t\tinit = true;\n\t}\n\n\t// value set\n\tconst old   = data.value;\n\tconst value = opt.value;\n\tdata.value  = value;\n\tdata.$value.css('width', value + '%');\n\n\tif (init || data.change && old != value) data.change  (data.value);\n\tif (      data.complete && 100 <= value) data.complete(data.value);\n\treturn this;\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// accordion\n////////////////////////////////////////////////////////////////////////////////\n$.fn.adiaryAccordion = function(opt) {\n\tconst $objs = this.children(\"h1,h2,h3,h4,h5,h6\");\n\t$objs.click(function(evt){\n\t\tconst $obj = $(evt.target);\n\t\tconst $div = $obj.next('div');\n\t\tif (!$div.length) return;\n\t\t$div.toggleDelay();\n\t});\n\t$objs.next('div').hide();\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// draggable\n////////////////////////////////////////////////////////////////////////////////\n$.fn.adiaryDraggable = function(opt) {\n\tlet sx;\n\tlet sy;\n\tlet $obj;\n\tthis.addClass('aui-draggable');\n\n\tthis.on('mousedown', function(evt){\n\t\t$('iframe').css('pointer-events', 'none');\n\t\tconst $tar = $(evt.target);\n\t\t$obj = $tar.hasClass('aui-draggable') ? $tar : $tar.parentsOne('.aui-draggable');\n\n\t\tif (opt) {\n\t\t\tconst $o = $tar;\n\t\t\tif ($tar != $obj) $o.add($tar.parentsUntil('.aui-draggable'));\n\t\t\tif (opt.cancel &&  $o.filter(opt.cancel).length) return;\n\t\t\tif (opt.handle && !$o.filter(opt.handle).length) return;\n\t\t}\n\t\tconst p = $obj.offset();\n\t\tsx = p.left - evt.pageX;\n\t\tsy = p.top  - evt.pageY;\n\t\tdocument.addEventListener('mousemove', move);\n\t\tevt.preventDefault();\n\t});\n\n\tthis.on('mouseup', function(evt){\n\t\t$('iframe').css('pointer-events', 'auto');\n\t\tdocument.removeEventListener('mousemove', move);\n\t\tevt.preventDefault();\n\t});\n\n\tfunction move(evt) {\n\t\tconst x = sx + evt.pageX;\n\t\tconst y = sy + evt.pageY;\n\t\t$obj.css({\n\t\t\tposition:\t'absolute',\n\t\t\tleft:\t\tx + 'px',\n\t\t\ttop:\t\ty + 'px'\n\t\t});\n\t\tevt.preventDefault();\n\t}\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// data function\n////////////////////////////////////////////////////////////////////////////////\n$.fn.adiaryUIData = function(name, val) {\n\tname = 'aui_' + name;\n\tif (arguments.length==2) this[name] = val;\n\tconst data = this[name] ||= {};\n\treturn data;\n}\n\n","export ////////////////////////////////////////////////////////////////////////////////\n// make main object\n////////////////////////////////////////////////////////////////////////////////\n/* Add \"export\" by Makefile */\nconst $$ = {\n\tSameSite:\t\t'Lax',\t// set_cookie() default\n\tDefaultShowSpeed:\t300,\t// msec\n\tTouchDnDTime:\t\t100,\t// msec\n\tDoubleTapTime:\t\t400,\t// msec\n\tPopupDelayTime:\t\t300,\t// msec\n\tPopupOffsetX:\t\t 15,\n\tPopupOffsetY:\t\t 10,\n\n\t$head:\t\t$('head'),\n\t$body:\t\t$('body')\n};\n\n////////////////////////////////////////////////////////////////////////////////\n// load message\n////////////////////////////////////////////////////////////////////////////////\n$$.msg = function(key, _default) {\n\tconst msgs = this.msgs || {};\n\tconst msg  = this.msgs[key];\n\treturn (msg === undefined) ? (_default || key.toUpperCase()) : msg;\n}\n\n$$.set_msg = function(obj, msg) {\n\tconst msgs = this.msgs ||= {};\n\n\tif (typeof(obj) != 'object') {\n\t\tmsgs[obj] = msg;\n\t\treturn;\n\t}\n\tthis.msgs = { ...msgs, ...obj };\n}\n","//##############################################################################\n// dialog functions\n//##############################################################################\n$$.dialog = function($div, opt = {}) {\n\t//--------------------------------------------------\n\t// Create Promise if not set callback().\n\t// This promise is not call reject().\n\t//--------------------------------------------------\n\tif (!opt.callback) {\n\t\tconst self=this;\n\t\treturn new Promise( (resolve, reject) => {\n\t\t\tself.dialog($div, {\n\t\t\t\t...opt,\n\t\t\t\tcallback: resolve\n\t\t\t});\n\t\t});\n\t}\n\n\t//--------------------------------------------------\n\t// main\n\t//--------------------------------------------------\n\tconst ok = opt.ok || this.msg('ok');\n\tconst btn= {};\n\tbtn[ok] = function(){\n\t\t$div.adiaryDialog('close');\n\t\tif (opt.callback) opt.callback( $div.prop('tagName')==='FORM' ? $div.parseFormHash() : true );\n\t};\n\tif (opt.cancelBtn) {\n\t\tbtn[ opt.cancel || this.msg('cancel') ] = function(){\n\t\t\t$div.adiaryDialog('close');\n\t\t\tif (opt.callback) opt.callback(false);\n\t\t};\n\t}\n\n\t// stop submit by enter and push ok button\n\tconst keyfunc = function(evt) {\n\t\tif (evt.which !== 13) return true;\n\t\tbtn[ok]();\n\t\treturn false;\n\t}\n\t$div.on('keypress', 'input', keyfunc);\n\n\t$div.adiaryDialog({\n\t\tnoExit: opt.noExit,\n\t\tmodal: true,\n\t\ttitle: opt.title,\n\t\tdialogClass: opt.class,\n\t\tbuttons: btn,\n\t\topen: function(){\n\t\t\tconst $bp = $div.siblings('.ui-dialog-buttonpane');\n\t\t\tif (opt.focus === 'ok')     $bp.find('button:eq(0)').focus();\n\t\t\tif (opt.focus === 'cancel') $bp.find('button:eq(1)').focus();\n\t\t},\n\t\texit: function(){\n\t\t\tif (opt.callback) opt.callback(false);\n\t\t},\n\t\tbeforeClose: function(){\n\t\t\t$div.off('keypress', 'input', keyfunc);\n\t\t},\n\t\tminWidth:  opt.minWidth  || $div.data('min-width'),\n\t\tminHeight: opt.minHeight || $div.data('min-height'),\n\t\twidth:     opt.width     || $div.data('width')\n\t});\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// base dialog\n////////////////////////////////////////////////////////////////////////////////\n$$.dialog_base = function(opt, msg, marg, callback) {\n\tif (!callback && typeof(marg) === 'function') {\n\t\tcallback = marg; marg = null;\n\t}\n\n\tlet $div;\n\tif (msg instanceof $) {\n\t\t$div = msg;\n\n\t} else {\n\t\tif (msg instanceof Object) {\n\t\t\topt = {...opt, ...msg};\n\t\t\tmsg = msg.html;\n\t\t}\n\n\t\tif (msg && msg.substr(0,1)==='#') {\n\t\t\t$div = $.secure(msg);\n\n\t\t} else {\n\t\t\t$div = $('<div>');\n\t\t\tif (marg) {\n\t\t\t\tmsg = msg.replace(/%([A-Za-z])/g, function(w,m1){ return marg[m1] });\n\t\t\t\tmsg = msg.replace(/%[A-Za-z]/g, '');\n\t\t\t}\n\t\t\t$div.html( msg );\n\t\t}\n\t}\n\topt.title ||= $div && $div.data('title') || this.msg('confirm');\n\n\tif (callback) opt.callback=callback;\n\n\treturn this.dialog($div, opt);\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// dialogs\n////////////////////////////////////////////////////////////////////////////////\n$$.show_dialog = function(msg, marg, callback, opt = {}) {\n\treturn this.dialog_base(opt, msg, marg, callback);\n}\n\n$$.show_error = function(msg, marg, callback, opt) {\n\treturn this.dialog_base({\n\t\t\tclass:\t'error-dialog',\n\t\t\ttitle:\tthis.msg('error'),\n\t\t\t...opt\n\t\t},\n\t\tmsg, marg, callback);\n}\n\n$$.confirm = function(msg, marg, callback, opt) {\n\t\treturn this.dialog_base({\n\t\t\tcancelBtn:\ttrue,\n\t\t\ttitle:\t\tthis.msg('confirm'),\n\t\t\t...opt\n\t\t},\n\t\tmsg, marg, callback);\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// form dialog\n////////////////////////////////////////////////////////////////////////////////\n$$.form_dialog = function(title, ele, callback) {\n\n\tlet $form;\n\n\tif (ele instanceof $) {\n\t\t$form = ele;\n\n\t} else {\n\t\t$form = $('<form>');\n\t\tif (!Array.isArray(ele)) ele = [ ele ];\n\n\t\tfor(const x of ele) {\n\t\t\tif (typeof(x) === 'string') {\n\t\t\t\t$form.append( $('<div>').html(x) );\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (x.type == 'p') {\n\t\t\t\t$form.append( $('<p>').html( x.html ) );\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (x.type == 'textarea') {\n\t\t\t\tconst $ta = $('<textarea>').attr({\n\t\t\t\t\trows: x.rows || 5,\n\t\t\t\t\tname: x.name\n\t\t\t\t}).addClass('w100p');\n\t\t\t\tif (x.val != '') $ta.text( x.val );\n\t\t\t\t$form.append( $ta );\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (x.type == '*') {\n\t\t\t\t$form.append( x.html );\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\t// else\n\t\t\tconst $item = $('<div>');\n\t\t\tif ('before' in x) $item.append(x.before);\n\n\t\t\t$item.append($('<input>').attr({\n\t\t\t\t\ttype: x.type || 'text',\n\t\t\t\t\tname: x.name,\n\t\t\t\t\tvalue: x.value\n\t\t\t\t}).addClass( x.class || 'w80p')\n\t\t\t);\n\t\t\tif (x.iclass) $item.addClass(x.iclass);\n\n\t\t\tif ('after' in x) $item.append(x.after);\n\t\t\t$form.append( $item );\n\t\t}\n\t}\n\n\treturn this.dialog($form, {\n\t\ttitle: title,\n\t\tcallback: callback\n\t});\n}\n","//##############################################################################\n// Ajax\n//##############################################################################\n////////////////////////////////////////////////////////////////////////////////\n// send_ajax\n////////////////////////////////////////////////////////////////////////////////\n$$.send_ajax = function(opt) {\n\tconst self=this;\n\t//--------------------------------------------------\n\t// Create Promise if not set callback functions.\n\t//--------------------------------------------------\n\tif (!opt.success && !opt.error_dialog_callback) {\n\t\treturn new Promise( (resolve, reject) => {\n\t\t\tself.send_ajax({\n\t\t\t\t...opt,\n\t\t\t\tsuccess: resolve,\n\t\t\t\terror_dialog_callback: reject\n\t\t\t});\n\t\t});\n\t}\n\n\t//--------------------------------------------------\n\t// main\n\t//--------------------------------------------------\n\tfunction ajax_error(err, h) {\n\t\tif (opt.error) if (!opt.error(err, h)) return;\n\n\t\tlet msg = '';\n\t\tif (h) {\n\t\t\tif (h.msg) msg += '<p>' + self.tag_esc(h.msg.toString()) + '</p>';\n\t\t\tif (h.errs) {\n\t\t\t\tconst ary = [];\n\t\t\t\tconst e = h.errs;\n\t\t\t\tconst o = e._order || Object.keys(e);\n\t\t\t\tfor(let i in o) {\n\t\t\t\t\tif (e[o[i]]=='') continue;\n\t\t\t\t\tary.push( self.tag_esc(e[o[i]]) );\n\t\t\t\t}\n\t\t\t\tmsg += '<p class=\"ni\">' + ary.join(\"<br>\") + '</p>';\n\t\t\t}\n\t\t\tif (h._debug) msg += '<p class=\"ni\">' + h._debug.replace(/\\n/g, '<br>') + '</p>';\n\t\t} else {\n\t\t\tmsg = '<p>' + self.msg('server_response_error', 'response data error!') + '</p>';\n\t\t}\n\t\tself.show_error(msg, function(){\n\t\t\tif (opt.error_dialog_callback) opt.error_dialog_callback(err, h)\n\t\t});\n\t}\n\tconst data = opt.data;\n\treturn $.ajax(opt.url || self.myself || './', {\n\t\tmethod:\t\t'POST',\n\t\tdata:\t\tdata.toString() === '[object Object]' ? $.param(data) : data,\n\t\tprocessData:\tfalse,\n\t\tcontentType:\tfalse,\n\t\tdataType:\t'json',\n\t\terror:\t\tajax_error,\n\t\tsuccess:\tfunction(h) {\n\t\t\tif (h.ret != '0') return ajax_error('ret!=0', h);\n\t\t\tif (h._debug)     return ajax_error('_debug', h);\n\t\t\tif (opt.success) opt.success(h);\n\t\t},\n\t\tcomplete:\topt.complete,\n\t});\n};\n","////////////////////////////////////////////////////////////////////////////////\n// popup for mouseenter\n////////////////////////////////////////////////////////////////////////////////\n$$.popup = function(evt) {\n\tconst self  = this;\n\tconst $obj  = $(evt.target);\n\tlet   delay = $obj.data('delay') || this.PopupDelayTime;\n\tif (delay<1) delay=1;\n\n\tif (!evt.data.$div) {\n\t\tconst $popup = $('<div>').addClass('popup-block');\n\t\tthis.$body.append( $popup );\n\t \tevt.data.$div = $popup;\n\t}\n\n\t$obj.on('mouseleave', evt.data, function(evt){ self.popup_hide(evt) });\n\t$obj.data('timer', setTimeout(  function()   { self.popup_show(evt) }, delay));\n}\n\n$$.popup_show = function(evt) {\n\tconst $obj = $(evt.target);\n\tconst $div = evt.data.$div;\n\tif ($div.is(\":animated\")) return;\n\n\tif (evt.data.show) evt.data.show(evt, $obj, $div);\n\t$div.css(\"left\", (this.SP ? 0 : (evt.pageX + this.PopupOffsetX)));\n\t$div.css(\"top\" ,                 evt.pageY + this.PopupOffsetY);\n\t$div.showDelay();\n}\n\n$$.popup_hide = function(evt) {\n\tconst $obj = $(evt.target);\n\tconst $div = evt.data.$div;\n\tif ($obj.data('timer')) {\n\t\tclearTimeout( $obj.data('timer') );\n\t\t$obj.data('timer', null);\n\t}\n\t$obj.off('mouseout');\n\t$div.hide();\n\tif (evt.data.hide) evt.data.hide(evt, $obj, $div);\n}\n\n","//##############################################################################\n// dom extentions\n//##############################################################################\n////////////////////////////////////////////////////////////////////////////////\n// css-defer load\n////////////////////////////////////////////////////////////////////////////////\n$('link.css-defer').attr('rel', 'stylesheet');\n\n////////////////////////////////////////////////////////////////////////////////\n// popup-help\n////////////////////////////////////////////////////////////////////////////////\n$$.$body.on('mouseover', '.help[data-help]', {\n\tshow: function(evt, $obj, $div){\n\t\tconst text = $$.tag_esc_br( $obj.data(\"help\") );\n\t\t$div.addClass('popup popup-help');\n\t\t$div.html( text );\n\t}\n}, function(evt){ $$.popup(evt) });\n\n////////////////////////////////////////////////////////////////////////////////\n// button for link\n////////////////////////////////////////////////////////////////////////////////\n$$.$body.on('click', 'button[data-href]', function(evt){\n\tlocation.href = $(evt.target).data('href');\n});\n\n////////////////////////////////////////////////////////////////////////////////\n// button for value set to form element\n////////////////////////////////////////////////////////////////////////////////\n$$.$body.on('click', 'button.js-set-value[data-target]', function(evt){\n\tconst $btn = $(evt.target);\n\t$.secure($btn.data('target')).val( $btn.attr('value') );\n});\n\n////////////////////////////////////////////////////////////////////////////////\n// do not submit by enter key\n////////////////////////////////////////////////////////////////////////////////\n$$.$body.on('keypress', 'input.no-enter-submit, form.no-enter-submit input', function(evt){\n\tif (evt.which === 13) return false;\n\treturn true;\n});\n\n////////////////////////////////////////////////////////////////////////////////\n// file upload button\n////////////////////////////////////////////////////////////////////////////////\n// <button class=\"js-file-btn\" data-target=\"#fileup\">\n// <input type=\"file\" id=\"fileup\" style=\"display:none\" data-target=\"#file-list\">\n// <span id=\"file-list\"></span>\n//\n$$.$body.on('click', 'button.js-file-btn', function(evt) {\n\tconst $obj = $(evt.target);\n\tconst $tar = $.secure($obj.data('target'));\n\tif (! $tar.length ) return;\n\n\tif ($tar.data('target') && !$tar.data('--regist-change-evt')) {\n\t\t$tar.data('--regist-change-evt', true);\n\t\t$tar.on('change', function(evt){\n\t\t\tconst $span = $tar.rootfind( $tar.data('target') );\n\t\t\tconst file  = $tar.val().replace(/^.*?([^\\\\\\/]*)$/, \"$1\");\n\t\t\t$span.text( file );\n\t\t})\n\t}\n\n\t$tar.click();\n});\n\n////////////////////////////////////////////////////////////////////////////////\n// file reset button\n////////////////////////////////////////////////////////////////////////////////\n$$.$body.on('click', 'button.js-reset-btn', function(evt) {\n\tconst $obj = $(evt.target);\n\tconst $tar = $.secure($obj.data('target'));\n\tif (!$tar.length || $tar.val()=='') return;\n\t$tar.val('').change();\n});\n\n////////////////////////////////////////////////////////////////////////////////\n// check all\n////////////////////////////////////////////////////////////////////////////////\n$$.$body.on('change', 'input.js-checked', function(evt){\n\tconst $obj = $(evt.target);\n\tconst $tar = $.secure($obj.data('target'));\n\t$tar.prop(\"checked\", $obj.is(\":checked\"));\n});\n\n////////////////////////////////////////////////////////////////////////////////\n// submit on change\n////////////////////////////////////////////////////////////////////////////////\n$$.$body.on('change', '.js-on-change-submit', function(evt){\n\tconst $obj = $(evt.target);\n\t$obj.parentsOne('form').trigger('submit');\n});\n\n////////////////////////////////////////////////////////////////////////////////\n// line click for check on table\n////////////////////////////////////////////////////////////////////////////////\n$$.$body.on('click', 'tbody.js-line-checked', function(evt){\n\tconst $obj = $(evt.target);\n\tconst $pars= $obj.parents('tr');\n\tif ($pars.add($obj).filter('a,input,button,label,.line-checked-cancel').length) return;\n\n\tconst $tr  = $pars.last();\n\tconst $inp = $tr.find('input[type=\"checkbox\"],input[type=\"radio\"]');\n\t$inp.first().click();\n});\n\n////////////////////////////////////////////////////////////////////////////////\n// combo box\n////////////////////////////////////////////////////////////////////////////////\n// used by select.js-save\n\n$$.js_combo_dummy = \"\\e\\e\\e\\e\\e\\n\\n\";\n\n$$.$body.on('focus', 'select.js-combo', function(evt){\n\tconst $obj = $(evt.target);\n\t$obj.data('current', $obj.val() );\n\n\tif ($obj.find('option[value=\"' + dummy + '\"]').length) return;\n\t// add other option\n\tconst $opt = $('<option>').attr('value', dummy).text( $$.msg('other') );\n\t$obj.append( $opt );\n\t$obj.on('change', async function(evt) {\n\t\tconst $select = $(evt.target);\n\t\tconst _val    = $select.val();\n\t\tif (_val !== dummy)\n\t\t\treturn $select.data('current', _val);\n\t\t\n\t\tconst val = $select.data('current');\n\t\t$select.val( val );\n\n\t\tconst element = { name: 'data', value: val, class: $select.data('class') };\n\t\tconst format  = $select.data('format') || '';\n\t\tconst ma = format.match(/^(.*)%v(.*)$/);\n\t\tif (ma) {\n\t\t\telement.before = ma[1];\n\t\t\telement.after  = ma[2];\n\t\t}\n\n\t\tconst h = await $$.form_dialog($select.data('title'), element);\n\t\tif (h) {\n\t\t\tconst val = h.data;\n\t\t\tif (val == '' || $select.val() == val) return;\n\n\t\t\t// set value\n\t\t\t$select.val( val );\n\t\t\tif ($select.val() != val) {\n\t\t\t\tconst format = $select.data('format') || '%v';\n\t\t\t\tconst text = format.replace(/%v/g, val);\n\t\t\t\tconst $opt = $('<option>').attr('value', val).text( text );\n\t\t\t\t$select.append( $opt );\n\t\t\t\t$select.val( val );\n\t\t\t}\n\t\t\t$select.data('current', val);\n\t\t\t$select.change();\n\t\t}\n\t});\n});\n\n////////////////////////////////////////////////////////////////////////////////\n// sortable table\n////////////////////////////////////////////////////////////////////////////////\n$$.$body.on('click', 'table.js-sortable-value thead', function(evt){\n\tconst $o1  = $(evt.target).filter('th,td');\n\tconst $obj = $o1.length ? $o1 : $(evt.target).parentsOne('th,td');\n\tif ($obj.hasClass('disable-sort')) return;\n\n\tlet cnt=0;\n\tlet $x = $obj;\n\twhile($x.length) {\n\t\t$x = $x.prev();\n\t\tcnt++;\n\t}\n\n\tconst $tbody  = $obj.parentsOne('table').children('tbody');\n\tconst td_nth  = 'td:nth-child(' + cnt + ')';\n\tconst reverse = $tbody.data('_sortable_prev_cnt') == cnt;\n\t$tbody.data('_sortable_prev_cnt', reverse ? -1 : cnt);\n\n\t$tbody.each(function(idx,dom){\n\t\tconst $tbody = $(dom);\n\t\tlet   isNum  = true;\n\t\tconst lines  = [];\n\t\t$tbody.children('tr').each(function(i2,tr){\n\t\t\tconst $tr = $(tr);\n\t\t\tconst $td = $tr.children(td_nth);\n\t\t\tconst val = $td.existsData('sort') ? $td.data('sort') : $td.text().replace(/^\\s+/, '').replace(/\\s+$/, '');\n\t\t\tconst num = Number(val);\n\t\t\tif (isNaN(num)) isNum = false;\n\n\t\t\tlines.push({\n\t\t\t\tval:\tval,\n\t\t\t\tnum:\tnum,\n\t\t\t\t$tr:\t$tr\n\t\t\t});\n\t\t});\n\n\t\tif (isNum) lines.sort(function(a,b){ return a.num - b.num; });\n\t\t      else lines.sort(function(a,b){ return a.val===b.val ? 0 : a.val < b.val; });\n\t\tif (reverse) lines.reverse();\n\n\t\t$tbody.empty();\n\t\tfor(let i in lines) $tbody.append(lines[i].$tr);\n\t});\n});\n","//##############################################################################\n// dom special extentions\n//##############################################################################\n(function(){\n\tconst ary = [];\n\tlet   initialized;\n\n\t$$.dom_init = function(func, priority) {\n\t\tif (typeof(func) == 'function') {\n\t\t\tif (initialized) {\n\t\t\t\tif (priority) console.warn('dom_init() initialized, but priority set', priority);\n\t\t\t\tfunc.call(this, this.$body);\n\t\t\t}\n\t\t\treturn ary.push({\n\t\t\t\tfunc:\tfunc,\n\t\t\t\tp:\tpriority || 100\n\t\t\t});\n\t\t}\n\n\t\t// initlize functions\n\t\tary.sort(function(a,b) {\n\t\t\treturn a.p - b.p;\n\t\t});\n\n\t\tconst $obj = func ? func : this.$body;\n\t\tfor(var i=0; i<ary.length; i++)\n\t\t\tary[i].func.call(this, $obj);\n\n\t\tinitialized = true;\n\t};\n})();\n\n////////////////////////////////////////////////////////////////////////////////\n// submit checker\n////////////////////////////////////////////////////////////////////////////////\n$$.dom_init( function($R){\n\tconst self=this;\n\n\t$R.findx('button.js-check-form').on('click', function(evt){\n\t\tconst $obj  = $(evt.target);\n\t\tconst $form = $obj.parents('form.js-check-form');\n\t\tif (!$form.length) return;\n\t\t$form.data('confirm', $obj.data('confirm') );\n\t\t$form.data('focus',   $obj.data('focus')   );\n\t\t$form.data('button',  $obj);\n\t});\n\n\t$R.findx('form.js-check-form').onSequence('submit', 10, function(evt){\n\t\tconst $form  = $(evt.target);\n\t\tconst target = $form.data('target');\n\t\tlet count=0;\n\t\tif (target) {\n\t\t\tcount = $form.rootfind( target + \":checked\" ).length;\n\t\t\tif (!count) return false;\t// no check\n\t\t}\n\n\t\t// confirm message\n\t\tlet confirm = $form.data('confirm');\n\t\tif (!confirm) return true;\n  \t\tif ($form.data('--js-check-form-ok')) {\n  \t\t\t$form.data('--js-check-form-ok', false);\n  \t\t\treturn true;\n  \t\t}\n\n\t\t// confirm dialog\n\t\tself.dialog_base({\n\t\t\ttitle:\t\tself.msg('confirm'),\n\t\t\tfocus:\t\t$form.data('focus'),\n\t\t\tcancelBtn:\ttrue\n\t\t}, confirm, { c: count }\n\t\t, function(flag) {\n\t\t\tif (!flag) return;\n  \t\t\t$form.data('--js-check-form-ok', true);\n\t\t\tif ($form.data('button')) return $form.data('button').click();\n\n\t\t\t$form.triggerWithOE(evt.originalEvent);\n\t\t});\n\t\treturn false;\n\t});\n});\n\n////////////////////////////////////////////////////////////////////////////////\n// ajax form\n////////////////////////////////////////////////////////////////////////////////\n$$.dom_init( function($R) {\n\tconst self=this;\n\tconst submit_func = function(evt, $form){\n\t\t$form.find('.error').removeClass('error');\n\n\t\t// form data\n\t\tconst gen  = $form.data('generator');\n\t\tlet   data = gen ? gen($form, evt) : new FormData($form[0]);\n\n\t\t// submitter button\n\t\tconst sb = evt.originalEvent && evt.originalEvent.submitter;\n\t\tif (sb && sb.tagName==='BUTTON' && sb.name!=='')\n\t\t\tdata.append(sb.name, sb.value);\n\n\t\t// submit url-encode\n\t\tif (!gen && !$form.find('input[type=\"file\"]').length)\n\t\t\tdata = new URLSearchParams(data);\n\n\t\t// stop re-entry\n\t\tif (!$form.data('reentry')) {\n\t\t\tif ($form.data('--js-ajax-stop')) return;\n\t\t\t$form.data('--js-ajax-stop', true);\n\t\t\t$form.prop('disabled', true);\n\t\t}\n\n\t\tconst $overlay   = $form.data('overlay') && $.adiaryShowOverlay();\n\t\tconst start_func = $form.data('start');\n\t\tconst comp_func  = $form.data('complete');\n\t\tif (typeof(start_func) === 'function') start_func($form);\n\n\t\tself.send_ajax({\n\t\t\turl:\t$form.attr('action'),\n\t\t\tdata:\tdata,\n\t\t\tsuccess: function(h) {\n\t\t\t\tif ($overlay) $overlay.close();\n\t\t\t\tconst success = $form.data('success');\n\t\t\t\tconst url = $form.data('url');\n\t\t\t\tif (typeof(success) === 'function') return success(h);\n\t\t\t\tif (typeof(success) === 'string' && success != '') {\n\t\t\t\t\treturn self.show_dialog(success, function(){\n\t\t\t\t\t\tif (url) location = url;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tif (url) location = url;\n\t\t\t},\n\t\t\terror: function(err, h) {\n\t\t\t\tif ($overlay) $overlay.close();\n\t\t\t\tconst error = $form.data('error');\n\t\t\t\tif (typeof(error) === 'function') return error(h);\n\n\t\t\t\tif (!h || !h.errs) return true;\n\t\t\t\tconst e = h.errs;\n\t\t\t\tfor(let k in e) {\n\t\t\t\t\tif (k == '_order') continue;\n\n\t\t\t\t\t// with number?\n\t\t\t\t\tconst ma  = k.match(/^(.*)#(\\d+)$/);\n\t\t\t\t\tconst num = ma ? ma[2] : undefined;\n\t\t\t\t\tk = ma ? ma[1] : k;\n\t\t\t\t\ttry {\n\t\t\t\t\t\tlet $x = $form.find('[name=\"' + k+ '\"], [data-name=\"' + k + '\"]');\n\t\t\t\t\t\tif (num) $x = $($x[num-1]);\n\t\t\t\t\t\t$x.addClass('error');\n\t\t\t\t\t} catch(e) {\n\t\t\t\t\t\tconsole.error(e);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t},\n\t\t\terror_dialog_callback: function(){\n\t\t\t\tconst callback = $form.data('error_dialog_callback');\n\t\t\t\tif (typeof(callback) === 'function') return callback();\n\t\t\t},\n\t\t\tcomplete: function(h) {\n\t\t\t\tif (typeof(comp_func) === 'function') comp_func($form);\n\t\t\t\tif ($form.data('--js-ajax-stop')) {\n\t\t\t\t\t$form.data('--js-ajax-stop', false);\n\t\t\t\t\t$form.prop('disabled', false);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\t$R.find('form.js-ajax').onSequence('submit', 100, function(evt) {\n\t\tconst $form  = $(evt.target);\n\t\tconst submit = function(){ submit_func(evt, $form) };\n\n\t\tconst checker = $form.data('checker');\n\t\tif (typeof(checker) === 'function') {\n\t\t\tif (! checker($form, submit)) return false;\n\t\t}\n\t\tsubmit();\n\t\treturn false;\n\t});\n});\n\n////////////////////////////////////////////////////////////////////////////////\n// auto save form value\n////////////////////////////////////////////////////////////////////////////////\n$$.dom_init( function($R) {\n\tconst self = this;\n\n\t$R.findx('input.js-save, select.js-save').each( function(idx, dom) {\n\t\tconst $obj = $(dom);\n\t\tconst type = $obj[0].type;\n\n\t\tlet id = type != 'radio' && $obj.attr(\"id\");\n\t\tif (!id) id = 'name=' + $obj.attr(\"name\");\n\t\tif (!id) return;\n\n\t\tif (type == 'checkbox') {\n\t\t\t$obj.change( function(evt){\n\t\t\t\tconst $o = $(evt.target);\n\t\t\t\tself.Storage.set(id, $o.prop('checked') ? 1 : 0);\n\t\t\t});\n\t\t\tif ( self.Storage.defined(id) )\n\t\t\t\t$obj.prop('checked', self.Storage.get(id) != 0 );\n\t\t\treturn;\n\t\t}\n\t\tif (type == 'radio') {\n\t\t\tconst val = $obj.attr('value');\n\t\t\t$obj.change( function(evt){\n\t\t\t\tconst $o = $(evt.target);\n\t\t\t\tself.Storage.set(id, val);\n\t\t\t});\n\t\t\tif ( self.Storage.defined(id) && val == self.Storage.get(id)) {\n\t\t\t\t$obj.prop('checked', 1);\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\t$obj.change( function(evt){\n\t\t\tconst $o = $(evt.target);\n\t\t\tif ($o.val() == self.js_combo_dummy_val) return;\n\t\t\tself.Storage.set(id, $o.val());\n\t\t});\n\t\tconst val = self.Storage.get(id);\n\t\tif (! val) return;\n\t\tif (dom.tagName == 'SELECT')\n\t\t\treturn self.set_value_on_select( $obj, val );\n\t\t\n\t\treturn $obj.val( val );\n\t});\n});\n\n////////////////////////////////////////////////////////////////////////////////\n// form dom element enable/disable by other form elements\n////////////////////////////////////////////////////////////////////////////////\n$$.dom_init( function($R){\n\tconst $objs = $R.findx('input.js-enable, input.js-disable, select.js-enable, select.js-disable');\n\n\tlet   init;\n\tconst func = function(evt) {\n\t\tconst $btn = $(evt.target);\n\t\tconst $tar = $btn.rootfind( $btn.data('target') );\n\n\t\tconst type = $btn[0].type;\n\n\t\t// radio button with data-state=\"0\" or \"1\"\n\t\tif (type == 'radio') {\n\t\t\tif ($btn.prop(\"disabled\") || !$btn.prop(\"checked\")) return;\n\t\t\tlet flag = $btn.data(\"state\");\n\t\t\tif ($btn.hasClass('js-enable')) flag=!flag;\n\t\t\t$tar.prop('disabled', flag);\n\t\t\treturn;\n\t\t}\n\n\t\tlet flag;\n\t\tif (type == 'checkbox') {\n\t\t\tflag = !$btn.prop(\"disabled\") && $btn.prop(\"checked\");\n\t\t} else if (type == 'number' || $btn.data('type') == 'int') {\n\t\t\tvar val = $btn.val();\n\t\t\tflag = val.length && val > 0;\n\t\t} else {\n\t\t\tflag = ! ($btn.val() + '').match(/^\\s*$/);\n\t\t}\n\n\t\t// change flag?\n\t\tif (!init && $btn.data('_flag') === flag) return;\n\t\t$btn.data('_flag', flag);\n\n\t\t// disabled?\n\t\tconst counter = $btn.hasClass('js-disable') ? '_disable_c' :  '_enable_c';\n\t\tconst add     = flag ? 1 : (init ? 0 : -1);\n\t\t$tar.each(function(idx,dom){\n\t\t\tconst $obj = $(dom);\n\t\t\t$obj.data(counter, ($obj.data(counter) || 0) + add);\n\n\t\t\tconst diff = ($obj.data('_disable_c') || 0) - ($obj.data('_enable_c') || 0)\n\t\t\t\t   + ($btn.hasClass('js-enable') ? 0.1 : 0);\n\n\t\t\t$obj.prop('disabled', diff>0);\n\t\t});\n\t}\n\t// regist\n\t$objs.change( func );\n\tinit = true;\n\t$objs.change();\n\tinit = false;\n});\n\n////////////////////////////////////////////////////////////////////////////////\n// click for dom show/hide\n////////////////////////////////////////////////////////////////////////////////\n/* example)\n\t<label><input type=\"checkbox\" class=\"js-switch\" data-target=\"xxx\"></label>\n\t<button type=\"button\" class=\"js-switch\"  data-target=\"xxx\"\n\t data-delay=\"300\"\n\t data-hide-val=\"show it\" data-show-val=\"hide it\" data-negative=\"1\">msg</button>\n*/\n(function(){\n\tfunction toggle($obj, init) {\n\t\tif ($obj[0].tagName == 'A') return true;\t// link click\n\n\t\t// append switch icon\n\t\tif (init && $obj[0].tagName != 'INPUT' && $obj[0].tagName != 'BUTTON') {\n\t\t\tconst $span = $('<span>');\n\t\t\t$span.addClass('ui-icon switch-icon');\n\t\t\t$obj.prepend($span).addClass('sw-show');\n\t\t}\n\n\t\tconst type = $obj[0].tagName == 'INPUT' && $obj[0].type;\n\t\tlet   tar  = $obj.data('target');\n\t\tif (!tar) {\n\t\t\t// $obj is children\n\t\t\t$obj = $obj.parentsOne(\".js-switch\");\n\t\t\tif (!$obj.length) return;\n\t\t\ttar = $obj.data('target');\n\t\t}\n\t\tconst $target = $.secure(tar);\n\t\tif (!$target.length) return false;\n\n\t\t// save switch status\n\t\tconst storage = $obj.existsData('save') ? this.Storage : null;\n\n\t\t// get current state\n\t\tconst id = $obj.attr('id') || $obj.attr('name') || tar;\n\t\tlet flag;\n\t\tif (init && storage && storage.defined(id)) {\n\t\t\tflag = storage.getInt(id) ? true : false;\n\t\t\tif (type == 'checkbox' || type == 'radio') $obj.prop(\"checked\", flag);\n\t\t} else if (type == 'checkbox' || type == 'radio') {\n\t\t\tflag = $obj.prop(\"checked\");\n\t\t} else if (init && $obj.data('default') == 'show') {\n\t\t\tflag = true;\n\t\t} else if (init && $obj.data('default') == 'hide') {\n\t\t\tflag = false;\n\t\t} else {\n\t\t\tflag = init ? !$target.is(':hidden') : $target.is(':hidden');\n\t\t}\n\t\tif ($obj.data('negative')) flag = !flag;\n\n\t\t// show speed\n\t\tlet delay = $obj.data('delay');\n\t\tif (delay === undefined || delay === '') delay = this.DefaultShowSpeed;\n\n\t\t// fast mode\n\t\tif ($obj.data('fast')) {\n\t\t\tconst css_id = '--css--' + id.replace(/[^\\w\\-]/g, '-');\n\t\t\tlet   $css   = $('#' + css_id);\n\t\t\tif (!$css.length) {\n\t\t\t\t$css = $('<style>').attr('id', css_id);\n\t\t\t\t$('head').append($css);\n\t\t\t}\n\t\t\t$css.text( flag ? '' : tar + '{ display: none; }' );\n\t\t\treturn true;\n\t\t}\n\n\t\t// set state\n\t\tif (flag) {\n\t\t\t$obj.addClass('sw-show');\n\t\t\t$obj.removeClass('sw-hide');\n\t\t\tif (init) $target.show();\n\t\t\t     else $target.show(delay);\n\t\t\tif (storage) storage.set(id, '1');\n\t\t\n\t\t} else {\n\t\t\t$obj.addClass('sw-hide');\n\t\t\t$obj.removeClass('sw-show');\n\t\t\tif (init) $target.hide();\n\t\t\t     else $target.hide(delay);\n\t\t\tif (storage) storage.set(id, '0');\n\t\t}\n\t\tif (type == 'button') {\n\t\t\tconst val = flag ? $obj.data('show-val') : $obj.data('hide-val');\n\t\t\tif (val != undefined) $obj.val( val );\n\t\t}\n\t\treturn true;\n\t}\n\n\t$$.dom_init( function($R){\n\t\tconst self = this;\n\t\tconst func = function(evt){\n\t\t\tconst $obj = $(evt.target);\n\t\t\tif ($obj[0].type != \"radio\")\n\t\t\t\treturn toggle.call(self, $obj);\n\n\t\t\tconst name = $obj.attr('name');\n\t\t\t$('input.js-switch[name=\\\"' + name + '\"]').each(function(idx, dom){\n\t\t\t\t toggle.call(self, $(dom));\n\t\t\t});\n\t\t}\n\n\t\t$R.findx('.js-switch').each( function(idx,dom) {\n\t\t\tconst $obj = $(dom);\n\t\t\tconst f    = toggle.call(self, $obj, true);\t// init=true\n\t\t\tif (f) \t// initalize success\n\t\t\t\t$obj.on(dom.tagName == 'INPUT' ? 'change' : 'click', func);\n\t\t} );\n\t});\n})();\n\n////////////////////////////////////////////////////////////////////////////////\n// accordion\n////////////////////////////////////////////////////////////////////////////////\n$$.dom_init(function($R){\n\tconst $accordion = $R.findx('.js-accordion');\n\tif (!$accordion.length) return;\n\t$accordion.adiaryAccordion();\n});\n\n////////////////////////////////////////////////////////////////////////////////\n// custom multiple select\n////////////////////////////////////////////////////////////////////////////////\n$$.dom_init( function($R){\n\t$R.findx('select.js-multiple').each(function(idx,dom){\n\t\tconst $sel = $(dom);\n\t\tif ($sel.prop('multiple')) return;\t// if select is multiple, do nothing.\n\t\t// multiple select box is height box style.\n\t\t// $sel copy to after with multiple attribute.\n\n\t\tconst $multi = $sel.clone(true).prop('multiple', true).removeClass('js-multiple').css('display', 'none');\n\t\t$sel.data('__multi', $multi);\n\n\t\t$sel.removeAttr('id');\n\t\t$sel.removeAttr('name');\n\t\t$multi.find('option.js-multiple-ignore').remove();\n\t\t$multi.insertAfter($sel);\n\n\t\tconst $opts = $multi.find('option');\n\t\t$opts.each(function(idx,dom){\n\t\t\tconst $opt = $(dom);\n\t\t\t$opt.prop('selected', $opt.data('selected'));\n\t\t});\n\n\t\tconst __change = function(evt){\n\t\t\tconst ary = [];\n\t\t\t$opts.each(function(idx,dom){\n\t\t\t\tconst $opt = $(dom);\n\t\t\t\tif ($opt.prop('selected')) ary.push($opt.html());\n\t\t\t});\n\t\t\tif (ary.length) {\n\t\t\t\tconst $add = $('<option>').addClass('js-multple-selected').html( ary[0] + (ary[1] ? '...' : '') );\n\t\t\t\t$sel.find('.js-multple-selected').remove();\n\t\t\t\t$sel.append( $add.prop('selected', true) );\n\t\t\t}\n\t\t};\n\t\t__change();\n\t\t$multi.on('change', __change);\n\t});\n});\n\n\t$$.$body.on('mousedown keydown', 'select.js-multiple', function(evt){\n\t\tconst $_obj  = $(evt.currentTarget);\n\t\tconst $multi = $_obj.data('__multi') || $_obj;\n\n\t\tconst lclass  = $multi.data('label-class');\n\t\tconst cdialog = $multi.data('custom-dialog');\n\t\tconst $dialog = cdialog ? $(cdialog) : $('<div>').data('title', $multi.data('title'));\n\t\tconst val2opt = {};\n\n\t\t$multi.find('option').each(function(idx,dom){\n\t\t\tconst $opt = $(dom);\n\t\t\tif ($opt.hasClass('js-multiple-ignore')) return;\n\n\t\t\tconst val  = $opt.val();\n\t\t\tval2opt[val] = $opt;\n\t\t\tif (cdialog) return;\n\n\t\t\tconst $label = $('<label>').html( $opt.html() );\n\t\t\tif (lclass !=='' && lclass !== undefined) $label.addClass(lclass)\n\n\t\t\t$label.prepend(\n\t\t\t\t$('<input>').attr({\n\t\t\t\t\ttype:\t'checkbox',\n\t\t\t\t\tvalue:\tval,\n\t\t\t\t})\n\t\t\t\t.prop('checked', $opt.prop('selected'))\n\t\t\t).addClass($opt.data('label-class'));\n\t\t\t$dialog.append( $label );\n\t\t});\n\n\t\t$$.show_dialog($dialog, function(flag) {\n\t\t\tif (!flag) return;\n\n\t\t\tlet change;\n\n\t\t\t$dialog.find('input').each(function(idx,dom){\n\t\t\t\tconst $inp = $(dom);\n\t\t\t\tconst val  = $inp.val();\n\t\t\t\tconst $opt = val2opt[val];\n\t\t\t\tconst flag = $inp.prop('checked');\n\t\t\t\tif ($inp.hasClass('js-multiple-ignore') || !$opt) return;\n\n\t\t\t\tif (flag != $opt.prop('selected')) change=true;\n\t\t\t\t$opt.prop('selected', flag);\n\t\t\t});\n\t\t\tif (change) $multi.change();\n\t\t});\n\n\t\tevt.preventDefault();\n\t\treturn false;\n\t});\n","//##############################################################################\n// subroutines\n//##############################################################################\n////////////////////////////////////////////////////////////////////////////////\n// load script\n////////////////////////////////////////////////////////////////////////////////\n(function(){\n\tconst inc = {};\n\n\t$$.load_script = function(url) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tconst x=inc[url];\n\t\t\tif (x) {\n\t\t\t\tif (x===1) return resolve();\n\t\t\t\t// now loading\n\t\t\t\tx.on('load', resolve);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst $s = inc[url]\n\t\t\t\t = $(document.createElement('script'))\n\t\t\t\t.attr('src',   url)\n\t\t\t\t.prop('async', true);\n\t\t\t$s.on('load', (evt) => {\n\t\t\t\tinc[url] = 1;\n\t\t\t\tresolve(evt);\n\t\t\t});\n\t\t\tthis.$head[0].appendChild( $s[0] );\n\t\t});\n\t}\n})();\n\n////////////////////////////////////////////////////////////////////////////////\n// escape html tag\n////////////////////////////////////////////////////////////////////////////////\n$$.tag_esc = function(text) {\n\treturn text\n\t\t.replace(/</g, '&lt;')\n\t\t.replace(/>/g, '&gt;')\n\t\t.replace(/\"/g, '&quot;')\n\t\t.replace(/'/g, '&apos;')\n}\n$$.tag_esc_br = function(text) {\n\treturn this.tag_esc(text).replace(/\\n|\\\\n/g,'<br>');\n}\n$$.tag_esc_amp = function(text) {\n\treturn this.tag_esc( text.replace(/&/g,'&amp;') );\n}\n$$.tag_unesc = function(text) {\n\treturn text\n\t\t.replace(/&apos;/g, \"'\")\n\t\t.replace(/&quot;/g, '\"')\n\t\t.replace(/&gt;/g, '>')\n\t\t.replace(/&lt;/g, '<')\n\t\t.replace(/&#92;/g, \"\\\\\")\t// for JSON data\n}\n$$.tag_unesc_amp = function(text) {\n\treturn this.tag_unesc(text).replace(/&amp;/g,'&');\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// Cookie\n////////////////////////////////////////////////////////////////////////////////\n$$.set_cookie = function(name, val) {\n\tdocument.cookie = encodeURIComponent(name) + '=' + encodeURIComponent(val) + '; SameSite=' + this.SameSite + ';';\n}\n$$.get_cookie = function(name) {\n\tconst ary = document.cookie.split(/; */);\n\tfor(const v of ary) {\n\t\tconst x = v.split('=', 2);\n\t\tconst k = decodeURIComponent( x[0] );\n\t\tif (name != k) continue;\n\t\treturn decodeURIComponent( x[1] );\n\t}\n\treturn;\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// parse JSON in html comment\n////////////////////////////////////////////////////////////////////////////////\n$$.parse_json_html = function($obj) {\n\tif (!$obj.length) return;\n\tconst json = $obj.html().replace(/^\\s*<!--\\s*/, '').replace(/\\s*-->\\s*$/, '');\n\treturn JSON.parse(json);\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// file size format\n////////////////////////////////////////////////////////////////////////////////\n$$.format_size = function(s) {\n\tif (s > 107374182400)\t\t// 100GB\n\t\treturn Math.round(s/1073741824).toLocaleString() + ' GB';\n\tif (s > 1047527424) return ( s/1073741824 ).toPrecision(3) + ' GB';\n\tif (s >    1022976) return ( s/1048576    ).toPrecision(3) + ' MB';\n\tif (s >        999) return ( s/1024       ).toPrecision(3) + ' KB';\n\treturn s + ' Byte';\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// to int, float\n////////////////////////////////////////////////////////////////////////////////\n$$.int = function(s) {\n\tconst x = parseInt(s);\n\treturn isNaN(x) ? 0 : x;\n}\n$$.float = function(s) {\n\tconst x = parseFloat(s);\n\treturn isNaN(x) ? 0 : x;\n}\n","//##############################################################################\n// run init for develop mode\n//##############################################################################\n(function(){\n\tconst $vars = $.secure('#asys-vars');\n\tconst vars  = $$.vars = ($vars.length==1) ? $$.parse_json_html($vars) : {};\n\n\tconst $msgs = $.secure('#asys-msgs');\n\tif ($msgs.length==1) {\n\t\tconst data = $$.parse_json_html($msgs);\n\t\t$$.set_msg(data);\n\t}\n\n\t// PrefixStorage\n\t$$.Storage = new PrefixStorage( vars.myself || '/' );\n\n\t// Export\n\tglobalThis[vars.name || 'asys']=$$;\n\n\t// dom initalize\n\t$$.dom_init();\n})();\n\n","export default $$;\n"],"mappings":"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"}